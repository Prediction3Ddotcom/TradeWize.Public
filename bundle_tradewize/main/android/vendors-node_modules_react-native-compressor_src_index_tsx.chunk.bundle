(self.webpackChunksas_main=self.webpackChunksas_main||[]).push([["vendors-node_modules_react-native-compressor_src_index_tsx"],{42052:function(e,t,r){Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});var n=r(76834).TurboModuleRegistry.getEnforcing("Compressor")},90818:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});var n=r(10698),o=r(76902),a=r(23975),i=o.Compressor,u={compress:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.DEFAULT_COMPRESS_AUDIO_OPTIONS;return n._(function*(){try{return i.compress_audio(e,t)}catch(e){throw e.message}})()}},l=u},47791:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var n=r(10698),o=r(76902),a=r(23975),i=r(76834),u=/^data:image\/.*;(?:charset=.{3,5};)?base64,/,l=new i.NativeEventEmitter(o.Compressor),d=o.Compressor,s={compress:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n._(function*(){if(!e)throw new Error("Compression value is empty, please provide a value for compression.");var r;try{if(null==t?void 0:t.downloadProgress){var n=(0,a.uuidv4)();t.uuid=n,r=l.addListener("downloadProgress",function(e){e.uuid===n&&t.downloadProgress&&t.downloadProgress(e.data.progress)})}var o=e.replace(u,"");return yield d.image_compress(o,t)}finally{r&&r.remove()}})()}},c=s},76902:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Compressor",{enumerable:!0,get:function(){return i}});var n=r(76834),o="The package 'react-native-compressor' doesn't seem to be linked. Make sure: \n\n"+n.Platform.select({ios:"- You have run 'pod install'\n",default:""})+"- You rebuilt the app after installing the package\n- You are not using Expo Go\n",a=null!=r.g.__turboModuleProxy?r(42052).default:n.NativeModules.Compressor,i=a||new Proxy({},{get:function(){throw new Error(o)}})},35853:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:Object.getOwnPropertyDescriptor(t,r).get})}(t,{get cancelCompression(){return d},get default(){return s}});var n=r(10698),o=r(76834),a=r(76902),i=r(23975),u=new o.NativeEventEmitter(a.Compressor),l=a.Compressor,d=function(e){return l.cancelCompression(e)},s={compress:function(e,t,r){return n._(function*(){var n,o,a=(0,i.uuidv4)();try{r&&(n=u.addListener("videoCompressProgress",function(e){e.uuid===a&&r(e.data.progress)})),(null==t?void 0:t.downloadProgress)&&(o=u.addListener("downloadProgress",function(e){e.uuid===a&&t.downloadProgress&&t.downloadProgress(e.data.progress)}));var d={uuid:a};return(null==t?void 0:t.progressDivider)&&(d.progressDivider=null==t?void 0:t.progressDivider),(null==t?void 0:t.bitrate)&&(d.bitrate=null==t?void 0:t.bitrate),(null==t?void 0:t.compressionMethod)?d.compressionMethod=null==t?void 0:t.compressionMethod:d.compressionMethod="auto",(null==t?void 0:t.maxSize)?d.maxSize=null==t?void 0:t.maxSize:d.maxSize=640,void 0!==(null==t?void 0:t.minimumFileSizeForCompress)&&(d.minimumFileSizeForCompress=null==t?void 0:t.minimumFileSizeForCompress),(null==t?void 0:t.getCancellationId)&&(null==t||t.getCancellationId(a)),yield l.compress(e,d)}finally{n&&n.remove(),o&&o.remove()}})()},cancelCompression:d,activateBackgroundTask:function(e){if(e)var t=u.addListener("backgroundTaskExpired",function(r){e(r),t&&t.remove()});return l.activateBackgroundTask({})},deactivateBackgroundTask:function(){return u.removeAllListeners("backgroundTaskExpired"),l.deactivateBackgroundTask({})}}},4301:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:Object.getOwnPropertyDescriptor(t,r).get})}(t,{get Audio(){return a.default},get Image(){return i.default},get UploadType(){return u.UploadType},get UploaderHttpMethod(){return u.UploaderHttpMethod},get Video(){return o.default},get backgroundUpload(){return u.backgroundUpload},get cancelUpload(){return u.cancelUpload},get clearCache(){return u.clearCache},get createVideoThumbnail(){return u.createVideoThumbnail},get default(){return l},get download(){return u.download},get generateFilePath(){return u.generateFilePath},get getDetails(){return u.getDetails},get getFileSize(){return u.getFileSize},get getImageMetaData(){return u.getImageMetaData},get getRealPath(){return u.getRealPath},get getVideoMetaData(){return u.getVideoMetaData},get uuidv4(){return u.uuidv4}});var n=r(55481),o=n._(r(35853)),a=n._(r(90818)),i=n._(r(47791)),u=r(23975),l={Video:o.default,Audio:a.default,Image:i.default,getDetails:u.getDetails,uuidv4:u.uuidv4,generateFilePath:u.generateFilePath,getRealPath:u.getRealPath,getVideoMetaData:u.getVideoMetaData,getImageMetaData:u.getImageMetaData,getFileSize:u.getFileSize,backgroundUpload:u.backgroundUpload,createVideoThumbnail:u.createVideoThumbnail,clearCache:u.clearCache,download:u.download,UploadType:u.UploadType,UploaderHttpMethod:u.UploaderHttpMethod}},88682:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"download",{enumerable:!0,get:function(){return l}});var n=r(10698),o=r(76834),a=r(76902),i=r(23975),u=new o.NativeEventEmitter(a.Compressor),l=function(e,t,r){return n._(function*(){var n;try{var l=(0,i.uuidv4)();return t&&(n=u.addListener("downloadProgress",function(e){e.uuid===l&&t(e.data.progress)})),"android"===o.Platform.OS&&e.includes("file://")&&(e=e.replace("file://","")),yield a.Compressor.download(e,{uuid:l,progressDivider:r})}finally{n&&n.remove()}})()}},42905:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:Object.getOwnPropertyDescriptor(t,r).get})}(t,{get UploadType(){return s},get UploaderHttpMethod(){return c},get backgroundUpload(){return p},get cancelUpload(){return g}});var n=r(10698),o=r(82367),a=r(24350),i=r(76834),u=r(76902),l=r(23975),d=new i.NativeEventEmitter(u.Compressor),s=function(e){return e[e.BINARY_CONTENT=0]="BINARY_CONTENT",e[e.MULTIPART=1]="MULTIPART",e}({}),c=function(e){return e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e}({}),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u.Compressor.cancelUpload(e,t)},p=function(e,t,r,s,c){return n._(function*(){var n,p=(0,l.uuidv4)();try{return s&&(n=d.addListener("uploadProgress",function(e){e.uuid===p&&s(e.data.written,e.data.total)})),"android"===i.Platform.OS&&t.includes("file://")&&(t=t.replace("file://","")),(null==r?void 0:r.getCancellationId)&&(null==r||r.getCancellationId(p)),null==c||c.addEventListener("abort",function(){return g(p)}),yield u.Compressor.upload(t,a._(o._({uuid:p,method:r.httpMethod,headers:r.headers,uploadType:r.uploadType},r),{url:e}))}finally{n&&n.remove(),null==c||c.removeEventListener("abort",function(){return g(p)})}})()}},23975:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:Object.getOwnPropertyDescriptor(t,r).get})}(t,{get DEFAULT_COMPRESS_AUDIO_OPTIONS(){return l},get clearCache(){return f},get createVideoThumbnail(){return p},get generateFilePath(){return d},get getDetails(){return v},get getFileSize(){return h},get getImageMetaData(){return g},get getRealPath(){return s},get getVideoMetaData(){return c},get uuidv4(){return P}});var n=r(10698),o=r(72825),a=r(76902),i=r(76834);o._(r(88682),t),o._(r(42905),t);var u="Incorrect input path. Please provide a valid one",l={quality:"medium"},d=function(e){return new Promise(function(t,r){a.Compressor.generateFilePath(e).then(function(e){return t("file://"+e)}).catch(function(e){return r(e)})})},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"video";return a.Compressor.getRealPath(e,t)},c=function(e){return a.Compressor.getVideoMetaData(e)},g=function(e){return n._(function*(){var t,r,n,o=yield a.Compressor.getImageMetaData(e);return t=o,r={},n="ios"===i.Platform.OS,r.ImageWidth=n?null==t?void 0:t.PixelWidth:parseInt(t.ImageWidth),r.ImageHeight=n?null==t?void 0:t.PixelHeight:parseInt(t.ImageLength),r.Orientation=n?t.Orientation:parseInt(t.Orientation),r.size=t.size,r.extension=t.extension,r.exif=t,r})()},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.Compressor.createVideoThumbnail(e,t)},f=function(e){return a.Compressor.clearCache(e)},m=function(e){var t=function(e){if("string"==typeof e){var t=e;if(e.includes("http")&&!/^(?:\w+:)?\/\/([^\s\.]+\.\S{2}|localhost[\:?\d]*)\S*$/.test(e))return u;"/"===t[t.length-1]&&(t=t.substring(0,e.length-1));var r=t.split("/");return r.length>1?r[r.length-1]:u}return u}(e);if(t&&t!==u){var r=t.split(".");return r.length>1?r.slice(0,-1).join(""):r.join("")}return t},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mp3";return new Promise(function(r,o){return n._(function*(){try{if(0!=={})throw new Error("Failed to execute command");var n=yield{};n=JSON.parse(n);var a=yield{};a.filename=m(e),a.bitrate=a.getMediaProperties().bit_rate,a.extension=t,a.isRemoteMedia="string"==typeof(i=e)?null==i||null==(l=i.split(":/"))||null==(u=l[0])?void 0:u.includes("http"):null,a.size=Number(n.format.size),r(a)}catch(e){o(e)}var i,u,l})()})},h=function(e){return n._(function*(){return a.Compressor.getFileSize(e)})()},P=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*parseFloat("0."+Math.random().toString().replace("0.","")+(new Date).getTime())|0;return("x"==e?t:3&t|8).toString(16)})}}}]);//# sourceMappingURL=vendors-node_modules_react-native-compressor_src_index_tsx.chunk.bundle.map?platform=android