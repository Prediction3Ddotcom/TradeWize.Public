{"version":3,"file":"vendors-node_modules_react-native-signature-canvas_index_js.chunk.bundle","sources":["/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-signature-canvas/h5/html.js","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-signature-canvas/h5/js/app.js","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-signature-canvas/h5/js/signature_pad.js","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-signature-canvas/index.js"],"sourcesContent":["Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _default;\n    }\n});\nvar _default = function(script) {\n    return `<!doctype html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n  <title>Signature Canvas</title>\n  <meta name=\"description\" content=\"Signature Pad - HTML5 canvas based smooth signature drawing using variable width spline interpolation.\">\n\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no\">\n\n  <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n  <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\">\n\n  <style>\n    body {\n      font-family: Helvetica, Sans-Serif;\n    \n      -moz-user-select: none;\n      -webkit-user-select: none;\n      -ms-user-select: none;\n      margin:0;\n      overflow:hidden;\n    }\n    body,html {\n      width: 100%;\n      height: 300px;\n    }\n    * {\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n    }\n    \n    .rotated-true {\n      transform: rotate(90deg);\n      transform-origin:bottom left;\n      \n      position:absolute;\n      top: -100vw;\n      left: 0;\n      \n      height:100vw;\n      width:100vh;\n      \n      overflow:auto;\n    }\n    .rotated-false {\n      width: 100%;\n      height: 100%;\n    }\n    .m-signature-pad {\n      font-size: 10px;\n      width: 100%;\n      height: 100%;\n      border: 1px solid #e8e8e8;\n      background-color: #fff;\n      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.27), 0 0 40px rgba(0, 0, 0, 0.08) inset;\n    }\n    \n    .m-signature-pad--body {\n      position: relative;\n      height: 100%;\n      border: 1px solid #f4f4f4;\n    }\n    \n    .m-signature-pad--body\n      canvas {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        border-radius: 4px;\n        box-shadow: 0 0 5px rgba(0, 0, 0, 0.02) inset;\n      }\n    \n    .m-signature-pad--footer {\n      padding: 0px 20px;\n      margin-top: 10px;\n      position: relative;\n      height: 40px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n    \n    .m-signature-pad--footer\n      .description {\n        color: #C3C3C3;\n        text-align: center;\n        font-size: 1.2em;\n      }\n    \n    .m-signature-pad--footer\n      .button {\n        background-color: #3F99F7;\n        height: 32px;\n        padding: 0 20px;\n        line-height: 32px;\n        text-align: center;\n        color: #FFF;\n        border: 1px solid transparent;\n        border-radius: 4px;\n        outline: none;\n        box-shadow: none;\n      }\n    \n    .m-signature-pad--footer\n      .button.clear {\n      }\n    \n    .m-signature-pad--footer\n      .button.save {\n      }\n    \n    @media screen and (max-width: 1024px) {\n      .m-signature-pad {\n        width: 100%;\n        height: 100%;\n      }\n      #github {\n        display: none;\n      }\n    }\n    \n    @media screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n      .m-signature-pad {\n        margin: 10%;\n      }\n    }\n    \n    @media screen and (max-height: 320px) {\n      .m-signature-pad--body {\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 32px;\n      }\n      .m-signature-pad--footer {\n        left: 20px;\n        right: 20px;\n        bottom: 4px;\n        height: 28px;\n      }\n      .m-signature-pad--footer\n        .description {\n          font-size: 1em;\n          margin-top: 1em;\n        }\n    }\n    <%style%>\n    </style>\n</head>\n<body onselectstart=\"return false\">\n  <div class=\"rotated-<%orientation%>\">\n    <div id=\"signature-pad\" class=\"m-signature-pad\">\n      <div class=\"m-signature-pad--body\">\n        <img style=\"position: absolute; top: 0; left: 0; pointer-events: none;\" src=<%bgSrc%> width=<%bgWidth%> height=<%bgHeight%> />\n        <canvas></canvas>\n        <img style=\"position: absolute; top: 0; left: 0; pointer-events: none;\" src=<%overlaySrc%> width=<%overlayWidth%> height=<%overlayHeight%> />\n      </div>\n      <div class=\"m-signature-pad--footer\">\n        <button type=\"button\" class=\"button clear\" data-action=\"clear\"><%clear%></button>\n        <div class=\"description\"><%description%></div>\n        <button type=\"button\" class=\"button save\" data-action=\"save\"><%confirm%></button>\n      </div>\n    </div>\n  </div>\n\n  <script>\n    ${script}\n  </script>\n</body>\n</html>`;\n};\n","Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _default;\n    }\n});\nvar _default = `\n    // Enhanced error handling and validation\n    var wrapper = document.getElementById(\"signature-pad\"),\n        clearButton = wrapper && wrapper.querySelector(\"[data-action=clear]\"),\n        saveButton = wrapper && wrapper.querySelector(\"[data-action=save]\"),\n        canvas = wrapper && wrapper.querySelector(\"canvas\"),\n        signaturePad;\n        \n    if (!wrapper || !canvas) {\n        console.error('Required DOM elements not found');\n    }\n    \n    // Enhanced canvas resize with debouncing\n    function debounce(func, wait) {\n        var timeout;\n        return function executedFunction() {\n            var later = function() {\n                clearTimeout(timeout);\n                func.apply(this, arguments);\n            };\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n        };\n    }\n    \n    function resizeCanvas() {\n        if (!canvas || !canvas.getContext) {\n            console.warn('Canvas not available for resize');\n            return;\n        }\n        \n        try {\n            var context = canvas.getContext(\"2d\");\n            var imgData = signaturePad ? signaturePad.toData() : null;\n            var ratio = Math.max(window.devicePixelRatio || 1, 1);\n            \n            canvas.width = canvas.offsetWidth * ratio;\n            canvas.height = canvas.offsetHeight * ratio;\n            context.scale(ratio, ratio);\n            \n            if (imgData && signaturePad) {\n                signaturePad.fromData(imgData);\n            }\n        } catch (error) {\n            console.error('Error resizing canvas:', error);\n        }\n    }\n    \n    // Use debounced resize handler\n    var debouncedResize = debounce(resizeCanvas, 100);\n    window.addEventListener('resize', debouncedResize);\n    resizeCanvas();\n    \n    signaturePad = new SignaturePad(canvas, {\n        onBegin: () => window.ReactNativeWebView.postMessage(\"BEGIN\"),\n        onEnd: () => window.ReactNativeWebView.postMessage(\"END\"),\n        penColor: '<%penColor%>',\n        backgroundColor: '<%backgroundColor%>',\n        dotSize: <%dotSize%>,\n        minWidth: <%minWidth%>,\n        maxWidth: <%maxWidth%>,\n        minDistance: <%minDistance%>,\n    });\n\n    function clearSignature () {\n        signaturePad.clear();\n        window.ReactNativeWebView.postMessage(\"CLEAR\");\n    }\n    \n    function undo() {\n        signaturePad.undo();\n        window.ReactNativeWebView.postMessage(\"UNDO\");\n    }\n    \n    function redo() {\n        signaturePad.redo();\n        window.ReactNativeWebView.postMessage(\"REDO\");\n      }\n\n    function changePenColor(color) {\n        if (!signaturePad) {\n            console.warn('SignaturePad not initialized');\n            return;\n        }\n        \n        signaturePad.penColor = color;\n        window.ReactNativeWebView && window.ReactNativeWebView.postMessage(\"CHANGE_PEN\");\n    }\n\n    function changePenSize(minW, maxW) {\n        if (!signaturePad) {\n            console.warn('SignaturePad not initialized');\n            return;\n        }\n        \n        // Validate numeric values\n        if (typeof minW !== 'number' || typeof maxW !== 'number' || minW < 0 || maxW < minW) {\n            console.warn('Invalid pen size values:', minW, maxW);\n            return;\n        }\n        \n        signaturePad.minWidth = minW;\n        signaturePad.maxWidth = maxW;\n        window.ReactNativeWebView && window.ReactNativeWebView.postMessage(\"CHANGE_PEN_SIZE\");\n    }\n    \n    function getData () {\n        var data = signaturePad.toData();\n        window.ReactNativeWebView.postMessage(JSON.stringify(data));\n    }\n\n    function fromData (pointGroups) {\n        signaturePad.fromData(pointGroups);\n        window.ReactNativeWebView.postMessage(JSON.stringify(pointGroups));\n    }\n\n    function draw() {\n      signaturePad.draw();\n      window.ReactNativeWebView.postMessage(\"DRAW\");\n    }\n\n    function erase() {\n      signaturePad.erase();\n      window.ReactNativeWebView.postMessage(\"ERASE\");\n    }\n\n    function cropWhitespace(url) {\n        var myImage = new Image();\n        myImage.crossOrigin = \"Anonymous\";\n        myImage.onload = function(){\n            window.ReactNativeWebView.postMessage(removeImageBlanks(myImage)); //Will return cropped image data\n        }\n        myImage.src = url;\n\n        //-----------------------------------------//\n        function removeImageBlanks(imageObject) {\n            var imgWidth = imageObject.width;\n            var imgHeight = imageObject.height;\n            var canvas = document.createElement('canvas');\n            canvas.setAttribute(\"width\", imgWidth);\n            canvas.setAttribute(\"height\", imgHeight);\n            var context = canvas.getContext('2d');\n            context.drawImage(imageObject, 0, 0);\n\n            var imageData = context.getImageData(0, 0, imgWidth, imgHeight),\n                data = imageData.data,\n                getRGB = function(x, y) {\n                    if (x < 0 || x >= imgWidth || y < 0 || y >= imgHeight) {\n                        return { red: 255, green: 255, blue: 255, opacity: 255 };\n                    }\n                    var offset = imgWidth * y + x;\n                    return {\n                        red:     data[offset * 4],\n                        green:   data[offset * 4 + 1],\n                        blue:    data[offset * 4 + 2],\n                        opacity: data[offset * 4 + 3]\n                    };\n                },\n                isWhite = function (rgb) {\n                    // many images contain noise, as the white is not a pure #fff white\n                    return !rgb.opacity || (rgb.red > 200 && rgb.green > 200 && rgb.blue > 200);\n                },\n                        scanY = function (fromTop) {\n                var offset = fromTop ? 1 : -1;\n\n                // loop through each row\n                for(var y = fromTop ? 0 : imgHeight - 1; fromTop ? (y < imgHeight) : (y > -1); y += offset) {\n\n                    // loop through each column\n                    for(var x = 0; x < imgWidth; x++) {\n                        var rgb = getRGB(x, y);\n                        if (!isWhite(rgb)) {\n                            if (fromTop) {\n                                return y;\n                            } else {\n                                return Math.min(y + 1, imgHeight);\n                            }\n                        }\n                    }\n                }\n                return null; // all image is white\n            },\n            scanX = function (fromLeft) {\n                var offset = fromLeft? 1 : -1;\n\n                // loop through each column\n                for(var x = fromLeft ? 0 : imgWidth - 1; fromLeft ? (x < imgWidth) : (x > -1); x += offset) {\n\n                    // loop through each row\n                    for(var y = 0; y < imgHeight; y++) {\n                        var rgb = getRGB(x, y);\n                        if (!isWhite(rgb)) {\n                            if (fromLeft) {\n                                return x;\n                            } else {\n                                return Math.min(x + 1, imgWidth);\n                            }\n                        }      \n                    }\n                }\n                return null; // all image is white\n            };\n\n            var cropTop = scanY(true),\n                cropBottom = scanY(false),\n                cropLeft = scanX(true),\n                cropRight = scanX(false),\n                cropWidth = cropRight - cropLeft,\n                cropHeight = cropBottom - cropTop;\n\n            canvas.setAttribute(\"width\", cropWidth);\n            canvas.setAttribute(\"height\", cropHeight);\n            // finally crop the guy\n            canvas.getContext(\"2d\").drawImage(imageObject,\n                cropLeft, cropTop, cropWidth, cropHeight,\n                0, 0, cropWidth, cropHeight);\n\n            return canvas.toDataURL('<%imageType%>');\n        }\n    }\n\n    function readSignature() {\n        if (!signaturePad) {\n            console.warn('SignaturePad not initialized');\n            return;\n        }\n        \n        try {\n            if (signaturePad.isEmpty()) {\n                window.ReactNativeWebView && window.ReactNativeWebView.postMessage(\"EMPTY\");\n            } else {\n                var imageType = '<%imageType%>' || 'image/png';\n                var url = signaturePad.toDataURL(imageType);\n                \n                if (trimWhitespace === true) {\n                    cropWhitespace(url);\n                } else {\n                    window.ReactNativeWebView && window.ReactNativeWebView.postMessage(url);\n                }\n                \n                if (autoClear === true && signaturePad) {\n                    signaturePad.clear();\n                }\n            }\n        } catch (error) {\n            console.error('Error reading signature:', error);\n        }\n    }\n\n    var autoClear = <%autoClear%>;\n    \n    var trimWhitespace = <%trimWhitespace%>;\n\n    var dataURL = '<%dataURL%>';\n\n    if (dataURL) signaturePad.fromDataURL(dataURL);\n\n    if (clearButton) {\n        clearButton.addEventListener(\"click\", clearSignature);\n    }\n\n    // Prevent race conditions by sequencing operations\n    if (saveButton) {\n        saveButton.addEventListener(\"click\", function() {\n            try {\n                readSignature();\n                // Small delay to prevent race condition\n                setTimeout(function() {\n                    getData();\n                }, 10);\n            } catch (error) {\n                console.error('Error in save button click:', error);\n            }\n        });\n    }\n`;\n","Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _default;\n    }\n});\nvar _default = `\n/*!\n * Signature Pad v3.0.0-beta.3 | https://github.com/szimek/signature_pad\n * (c) 2018 Szymon Nowak | Released under the MIT license\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.SignaturePad = factory());\n}(this, (function () { 'use strict';\n\n  var Point = (function () {\n      function Point(x, y, time) {\n          this.x = x;\n          this.y = y;\n          this.time = time || Date.now();\n      }\n      Point.prototype.distanceTo = function (start) {\n          return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n      };\n      Point.prototype.equals = function (other) {\n          return this.x === other.x && this.y === other.y && this.time === other.time;\n      };\n      Point.prototype.velocityFrom = function (start) {\n          return this.time !== start.time\n              ? this.distanceTo(start) / (this.time - start.time)\n              : 0;\n      };\n      return Point;\n  }());\n\n  var Bezier = (function () {\n      function Bezier(startPoint, control2, control1, endPoint, startWidth, endWidth) {\n          this.startPoint = startPoint;\n          this.control2 = control2;\n          this.control1 = control1;\n          this.endPoint = endPoint;\n          this.startWidth = startWidth;\n          this.endWidth = endWidth;\n      }\n      Bezier.fromPoints = function (points, widths) {\n          var c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n          var c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n          return new Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n      };\n      Bezier.calculateControlPoints = function (s1, s2, s3) {\n          var dx1 = s1.x - s2.x;\n          var dy1 = s1.y - s2.y;\n          var dx2 = s2.x - s3.x;\n          var dy2 = s2.y - s3.y;\n          var m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n          var m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n          var l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n          var l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n          var dxm = m1.x - m2.x;\n          var dym = m1.y - m2.y;\n          var k = l2 / (l1 + l2);\n          var cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n          var tx = s2.x - cm.x;\n          var ty = s2.y - cm.y;\n          return {\n              c1: new Point(m1.x + tx, m1.y + ty),\n              c2: new Point(m2.x + tx, m2.y + ty)\n          };\n      };\n      Bezier.prototype.length = function () {\n          var steps = 10;\n          var length = 0;\n          var px;\n          var py;\n          for (var i = 0; i <= steps; i += 1) {\n              var t = i / steps;\n              var cx = this.point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n              var cy = this.point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n              if (i > 0) {\n                  var xdiff = cx - px;\n                  var ydiff = cy - py;\n                  length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n              }\n              px = cx;\n              py = cy;\n          }\n          return length;\n      };\n      Bezier.prototype.point = function (t, start, c1, c2, end) {\n          return (start * (1.0 - t) * (1.0 - t) * (1.0 - t))\n              + (3.0 * c1 * (1.0 - t) * (1.0 - t) * t)\n              + (3.0 * c2 * (1.0 - t) * t * t)\n              + (end * t * t * t);\n      };\n      return Bezier;\n  }());\n\n  function throttle(fn, wait) {\n      if (wait === void 0) { wait = 250; }\n      var previous = 0;\n      var timeout = null;\n      var result;\n      var storedContext;\n      var storedArgs;\n      var later = function () {\n          previous = Date.now();\n          timeout = null;\n          result = fn.apply(storedContext, storedArgs);\n          if (!timeout) {\n              storedContext = null;\n              storedArgs = [];\n          }\n      };\n      return function wrapper() {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n              args[_i] = arguments[_i];\n          }\n          var now = Date.now();\n          var remaining = wait - (now - previous);\n          storedContext = this;\n          storedArgs = args;\n          if (remaining <= 0 || remaining > wait) {\n              if (timeout) {\n                  clearTimeout(timeout);\n                  timeout = null;\n              }\n              previous = now;\n              result = fn.apply(storedContext, storedArgs);\n              if (!timeout) {\n                  storedContext = null;\n                  storedArgs = [];\n              }\n          }\n          else if (!timeout) {\n              timeout = window.setTimeout(later, remaining);\n          }\n          return result;\n      };\n  }\n\n  var SignaturePad = (function () {\n      function SignaturePad(canvas, options) {\n          if (options === void 0) options = {};\n          var _this = this;\n          this.canvas = canvas;\n          this.options = options;\n          this._startingSignature = null;\n          this._isDrawing = true;\n          this._history = [];\n          this._handleMouseDown = function (event) {\n              if (event.which === 1) {\n                  _this._mouseButtonDown = true;\n                  _this._strokeBegin(event);\n              }\n          };\n          this._handleMouseMove = function (event) {\n              if (_this._mouseButtonDown) {\n                  _this._strokeMoveUpdate(event);\n              }\n          };\n          this._handleMouseUp = function (event) {\n              if (event.which === 1 && _this._mouseButtonDown) {\n                  _this._mouseButtonDown = false;\n                  _this._strokeEnd(event);\n              }\n          };\n          this._handleTouchStart = function (event) {\n              event.preventDefault();\n              if (event.targetTouches.length === 1) {\n                  var touch = event.changedTouches[0];\n                  _this._strokeBegin(touch);\n              }\n          };\n          this._handleTouchMove = function (event) {\n              event.preventDefault();\n              var touch = event.targetTouches[0];\n              _this._strokeMoveUpdate(touch);\n          };\n          this._handleTouchEnd = function (event) {\n              var wasCanvasTouched = event.target === _this.canvas;\n              if (wasCanvasTouched) {\n                  event.preventDefault();\n                  var touch = event.changedTouches[0];\n                  _this._strokeEnd(touch);\n              }\n          };\n          this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n          this.minWidth = options.minWidth || 0.5;\n          this.maxWidth = options.maxWidth || 2.5;\n          this.throttle = \"throttle\" in options ? options.throttle : 16;\n          this.minDistance = \"minDistance\" in options ? options.minDistance : 5;\n          this._strokeMoveUpdate = this.throttle\n            ? (this._strokeMoveUpdate = throttle(\n                SignaturePad.prototype._strokeUpdate,\n                this.throttle\n              ))\n            : SignaturePad.prototype._strokeUpdate;\n          this.dotSize = options.dotSize || function dotSize() {return (this.minWidth + this.maxWidth) / 2;};\n          this.penColor = options.penColor || \"black\";\n          this.backgroundColor = options.backgroundColor || \"rgba(255,255,255,0)\";\n          this.onBegin = options.onBegin;\n          this.onEnd = options.onEnd;\n          this._ctx = canvas.getContext(\"2d\");\n          this.clear();\n          this.on();\n      }\n      SignaturePad.prototype.clear = function () {\n          var ctx = this._ctx;\n          var canvas = this.canvas;\n          ctx.fillStyle = this.backgroundColor;\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\n          this._data = [];\n          this._reset();\n          this._isEmpty = true;\n      };\n      SignaturePad.prototype.undo = function () {\n        const data = this.toData();\n        if (data && data.length) {\n            this._history.push(data.pop()); // remove the last stroke\n        } else if (this._startingSignature) {\n            return; // they performed undo of background sig\n        }\n        this.clear();\n        if (this._startingSignature) {\n            this.fromDataURL(this._startingSignature, {}, () => this.fromData(data, true));\n        } else {\n            this.fromData(data, true);\n        }\n      };\n      SignaturePad.prototype.redo = function () {\n        if (!this._history.length) return;\n        const data = this.toData();\n        data.push(this._history.pop());\n        this.clear();\n        if (this._startingSignature) {\n            this.fromDataURL(this._startingSignature, {}, () => this.fromData(data, true));\n        } else {\n            this.fromData(data, true);\n        }\n      };\n      SignaturePad.prototype.draw = function () {\n        this._ctx.globalCompositeOperation = \"source-over\";\n        this._isDrawing = true;\n      };\n      SignaturePad.prototype.erase = function () {\n        this._ctx.globalCompositeOperation = \"destination-out\";\n        this._isDrawing = false;\n      };\n      SignaturePad.prototype.fromDataURL = function (dataUrl, options, callback) {\n          var _this = this;\n          if (options === void 0) options = {};\n          var image = new Image();\n          var ratio = options.ratio || window.devicePixelRatio || 1;\n          var width = options.width || this.canvas.width / ratio;\n          var height = options.height || this.canvas.height / ratio;\n          this._reset();\n          image.src = dataUrl;\n          image.onload = function () {\n            _this._ctx.globalCompositeOperation = \"source-over\";\n            _this._ctx.drawImage(image, 0, 0, width, height);\n            _this._ctx.globalCompositeOperation = _this._isDrawing ? \"source-over\" : \"destination-out\";\n              if (callback) {\n                  callback();\n              }\n          };\n          image.onerror = function (error) {\n              if (callback) {\n                  callback(error);\n              }\n          };\n          this._isEmpty = false;\n          if (!this._startingSignature) this._startingSignature = dataUrl;\n      };\n      SignaturePad.prototype.toDataURL = function (type = \"image/png\", encoderOptions) {\n        return type === \"image/svg+xml\" ? this._toSVG() : this.canvas.toDataURL(type, encoderOptions);\n      };\n      SignaturePad.prototype.on = function () {\n          this.canvas.style.touchAction = 'none';\n          this.canvas.style.msTouchAction = 'none';\n          if (window.PointerEvent) {\n              this._handlePointerEvents();\n          }\n          else {\n              this._handleMouseEvents();\n              if ('ontouchstart' in window) {\n                  this._handleTouchEvents();\n              }\n          }\n      };\n      SignaturePad.prototype.off = function () {\n          this.canvas.style.touchAction = 'auto';\n          this.canvas.style.msTouchAction = 'auto';\n          this.canvas.removeEventListener('pointerdown', this._handleMouseDown);\n          this.canvas.removeEventListener('pointermove', this._handleMouseMove);\n          document.removeEventListener('pointerup', this._handleMouseUp);\n          this.canvas.removeEventListener('mousedown', this._handleMouseDown);\n          this.canvas.removeEventListener('mousemove', this._handleMouseMove);\n          document.removeEventListener('mouseup', this._handleMouseUp);\n          this.canvas.removeEventListener('touchstart', this._handleTouchStart);\n          this.canvas.removeEventListener('touchmove', this._handleTouchMove);\n          this.canvas.removeEventListener('touchend', this._handleTouchEnd);\n      };\n      SignaturePad.prototype.isEmpty = function () {\n          return this._isEmpty;\n      };\n      SignaturePad.prototype.fromData = function (pointGroups, suppressClear = false) {\n        var _this = this;\n        if (!suppressClear) this.clear();\n        if (pointGroups && pointGroups.length > 0) {\n          this._fromData(\n            pointGroups,\n            ({ color, curve }) => _this._drawCurve({ color, curve }),\n            ({ color, point, dotSize }) => _this._drawDot({ color, point, dotSize })\n          );\n          this._data = pointGroups;\n        }\n      };\n      SignaturePad.prototype.toData = function () {\n          return this._data;\n      };\n      SignaturePad.prototype._strokeBegin = function (event) {\n        var newPointGroup = {\n          color: this.penColor,\n          dotSize: typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize,\n          minWidth: this.minWidth,\n          maxWidth: this.maxWidth,\n          compositeOperation: this._ctx.globalCompositeOperation,\n          points: [],\n        };\n        if (typeof this.onBegin === \"function\") {\n          this.onBegin(event);\n        }\n        this._data.push(newPointGroup);\n        this._history = [];\n        this._reset();\n        this._strokeUpdate(event);\n      };\n      SignaturePad.prototype._strokeUpdate = function (event) {\n          var x = event.clientX;\n          var y = event.clientY;\n          var point = this._createPoint(x, y);\n          var lastPointGroup = this._data[this._data.length - 1];\n          var lastPoints = lastPointGroup.points;\n          var lastPoint = lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n          var isLastPointTooClose = lastPoint\n              ? point.distanceTo(lastPoint) <= this.minDistance\n              : false;\n          var color = lastPointGroup.color;\n          if (!lastPoint || !(lastPoint && isLastPointTooClose)) {\n              var curve = this._addPoint(point);\n              if (!lastPoint) {\n                  this._drawDot({ color, point });\n              }\n              else if (curve) {\n                  this._drawCurve({ color, curve });\n              }\n              lastPoints.push({\n                  time: point.time,\n                  x: point.x,\n                  y: point.y\n              });\n          }\n      };\n      SignaturePad.prototype._strokeEnd = function (event) {\n          this._strokeUpdate(event);\n          if (typeof this.onEnd === 'function') {\n              this.onEnd(event);\n          }\n      };\n      SignaturePad.prototype._handlePointerEvents = function () {\n          this._mouseButtonDown = false;\n          this.canvas.addEventListener('pointerdown', this._handleMouseDown);\n          this.canvas.addEventListener('pointermove', this._handleMouseMove);\n          document.addEventListener('pointerup', this._handleMouseUp);\n      };\n      SignaturePad.prototype._handleMouseEvents = function () {\n          this._mouseButtonDown = false;\n          this.canvas.addEventListener('mousedown', this._handleMouseDown);\n          this.canvas.addEventListener('mousemove', this._handleMouseMove);\n          document.addEventListener('mouseup', this._handleMouseUp);\n      };\n      SignaturePad.prototype._handleTouchEvents = function () {\n          this.canvas.addEventListener('touchstart', this._handleTouchStart);\n          this.canvas.addEventListener('touchmove', this._handleTouchMove);\n          this.canvas.addEventListener('touchend', this._handleTouchEnd);\n      };\n      SignaturePad.prototype._reset = function () {\n          this._lastPoints = [];\n          this._lastVelocity = 0;\n          this._lastWidth = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n          this._ctx.fillStyle = this.penColor;\n      };\n      SignaturePad.prototype._createPoint = function (x, y) {\n          var rect = this.canvas.getBoundingClientRect();\n          if (<%orientation%>) {\n            return new Point(y - rect.top, rect.left+rect.width-x, new Date().getTime());\n          } else {\n            return new Point(x - rect.left, y - rect.top, new Date().getTime());\n          }\n      };\n      SignaturePad.prototype._addPoint = function (point, minWidth = this.minWidth, maxWidth = this.maxWidth) {\n          var _lastPoints = this._lastPoints;\n          _lastPoints.push(point);\n          if (_lastPoints.length > 2) {\n              if (_lastPoints.length === 3) {\n                  _lastPoints.unshift(_lastPoints[0]);\n              }\n              var widths = this._calculateCurveWidths(_lastPoints[1], _lastPoints[2], minWidth, maxWidth);\n              var curve = Bezier.fromPoints(_lastPoints, widths);\n              _lastPoints.shift();\n              return curve;\n          }\n          return null;\n      };\n      SignaturePad.prototype._calculateCurveWidths = function (startPoint, endPoint, minWidth = this.minWidth, maxWidth = this.maxWidth) {\n          var velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) +\n              (1 - this.velocityFilterWeight) * this._lastVelocity;\n          var newWidth = this._strokeWidth(velocity, minWidth, maxWidth);\n          var widths = {\n              end: newWidth,\n              start: this._lastWidth\n          };\n          this._lastVelocity = velocity;\n          this._lastWidth = newWidth;\n          return widths;\n      };\n      SignaturePad.prototype._strokeWidth = function (velocity, minWidth = this.minWidth, maxWidth = this.maxWidth) {\n          return Math.max(maxWidth / (velocity + 1), minWidth);\n      };\n      SignaturePad.prototype._drawCurveSegment = function (x, y, width) {\n          var ctx = this._ctx;\n          ctx.moveTo(x, y);\n          ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n          this._isEmpty = false;\n      };\n      SignaturePad.prototype._drawCurve = function (_a) {\n          var color = _a.color, curve = _a.curve;\n          var ctx = this._ctx;\n          var widthDelta = curve.endWidth - curve.startWidth;\n          var drawSteps = Math.floor(curve.length()) * 2;\n          ctx.beginPath();\n          ctx.fillStyle = color;\n          for (var i = 0; i < drawSteps; i += 1) {\n              var t = i / drawSteps;\n              var tt = t * t;\n              var ttt = tt * t;\n              var u = 1 - t;\n              var uu = u * u;\n              var uuu = uu * u;\n              var x = uuu * curve.startPoint.x;\n              x += 3 * uu * t * curve.control1.x;\n              x += 3 * u * tt * curve.control2.x;\n              x += ttt * curve.endPoint.x;\n              var y = uuu * curve.startPoint.y;\n              y += 3 * uu * t * curve.control1.y;\n              y += 3 * u * tt * curve.control2.y;\n              y += ttt * curve.endPoint.y;\n              var width = curve.startWidth + ttt * widthDelta;\n              this._drawCurveSegment(x, y, width);\n          }\n          ctx.closePath();\n          ctx.fill();\n      };\n      SignaturePad.prototype._drawDot = function (_a) {\n        var color = _a.color, point = _a.point;\n        var ctx = this._ctx;\n        var width = _a.dotSize ? _a.dotSize : typeof this.dotSize === \"function\" ? this.dotSize() : this.dotSize;\n        ctx.beginPath();\n        this._drawCurveSegment(point.x, point.y, width);\n        ctx.closePath();\n        ctx.fillStyle = color;\n        ctx.fill();\n      };\n      SignaturePad.prototype._fromData = function (pointGroups, drawCurve, drawDot) {\n        for (var i = 0; i < pointGroups.length; i++) {\n          var group = pointGroups[i];\n          var color = group.color, points = group.points;\n          var minWidth = group.minWidth, maxWidth = group.maxWidth, dotSize = group.dotSize;\n          var compositeOperation = group.compositeOperation;\n          this._reset();\n          this._lastWidth = dotSize;\n          if (points.length > 1) {\n            for (var j = 0; j < points.length; j++) {\n              var point = new Point(points[j].x, points[j].y, points[j].time);\n              this._ctx.globalCompositeOperation = compositeOperation;\n              var curve = this._addPoint(point, minWidth, maxWidth);\n              if (curve) drawCurve({ color, curve });\n            };\n          } else drawDot({ color, point: points[0], dotSize });\n        };\n        this._ctx.globalCompositeOperation = this._isDrawing ? \"source-over\" : \"destination-out\";\n      };\n      SignaturePad.prototype._toSVG = function () {\n          var _this = this;\n          var pointGroups = this._data;\n          var ratio = Math.max(window.devicePixelRatio || 1, 1);\n          var minX = 0;\n          var minY = 0;\n          var maxX = this.canvas.width / ratio;\n          var maxY = this.canvas.height / ratio;\n          var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n          svg.setAttribute('width', this.canvas.width.toString());\n          svg.setAttribute('height', this.canvas.height.toString());\n          this._fromData(pointGroups, function (_a) {\n              var color = _a.color, curve = _a.curve;\n              var path = document.createElement(\"path\");\n              if (!isNaN(curve.control1.x) && !isNaN(curve.control1.y) && !isNaN(curve.control2.x) && !isNaN(curve.control2.y)) {\n                var attr = \"M \" + curve.startPoint.x.toFixed(3) + \",\" + curve.startPoint.y.toFixed(3) + \" \" + (\"C \" + curve.control1.x.toFixed(3) + \",\" + curve.control1.y.toFixed(3) + \" \") + (curve.control2.x.toFixed(3) + \",\" + curve.control2.y.toFixed(3) + \" \") + (curve.endPoint.x.toFixed(3) + \",\" + curve.endPoint.y.toFixed(3));\n                path.setAttribute(\"d\", attr);\n                path.setAttribute(\"stroke-width\", (curve.endWidth * 2.25).toFixed(3));\n                path.setAttribute(\"stroke\", color);\n                path.setAttribute(\"fill\", \"none\");\n                path.setAttribute(\"stroke-linecap\", \"round\");\n                svg.appendChild(path);\n              }\n            },\n            function (_a) {\n              var color = _a.color,point = _a.point;\n              var circle = document.createElement(\"circle\");\n              var dotSize = _a.dotSize ? _a.dotSize : typeof _this.dotSize === \"function\" ? _this.dotSize() : _this.dotSize;\n              circle.setAttribute(\"r\", dotSize.toString());\n              circle.setAttribute(\"cx\", point.x.toString());\n              circle.setAttribute(\"cy\", point.y.toString());\n              circle.setAttribute(\"fill\", color);\n              svg.appendChild(circle);\n            }\n          );\n          var prefix = 'data:image/svg+xml;base64,';\n          var header = '<svg' +\n              ' xmlns=\"http://www.w3.org/2000/svg\"' +\n              ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' +\n              (\" viewBox=\\\\\"\" + minX + \" \" + minY + \" \" + maxX + \" \" + maxY + \"\\\\\"\") +\n              (\" width=\\\\\"\" + maxX + \"\\\\\"\") +\n              (\" height=\\\\\"\" + maxY + \"\\\\\"\") +\n              '>';\n          var body = svg.innerHTML;\n          if (body === undefined) {\n              var dummy = document.createElement('dummy');\n              var nodes = svg.childNodes;\n              dummy.innerHTML = '';\n              for (var i = 0; i < nodes.length; i += 1) {\n                  dummy.appendChild(nodes[i].cloneNode(true));\n              }\n              body = dummy.innerHTML;\n          }\n          var footer = '</svg>';\n          var data = header + body + footer;\n          return prefix + btoa(data);\n      };\n      return SignaturePad;\n  }());\n\n  return SignaturePad;\n\n})));\n`;\n","Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _default;\n    }\n});\nvar _extends = require(\"@swc/helpers/_/_extends\");\nvar _interop_require_default = require(\"@swc/helpers/_/_interop_require_default\");\nvar _interop_require_wildcard = require(\"@swc/helpers/_/_interop_require_wildcard\");\nvar _sliced_to_array = require(\"@swc/helpers/_/_sliced_to_array\");\nvar _jsxruntime = require(\"react/jsx-runtime\");\nvar _react = /*#__PURE__*/ _interop_require_wildcard._(require(\"react\"));\nvar _reactnative = require(\"react-native\");\nvar _html = /*#__PURE__*/ _interop_require_default._(require(\"./h5/html\"));\nvar _signature_pad = /*#__PURE__*/ _interop_require_default._(require(\"./h5/js/signature_pad\"));\nvar _app = /*#__PURE__*/ _interop_require_default._(require(\"./h5/js/app\"));\nvar _reactnativewebview = require(\"react-native-webview\");\nvar MESSAGE_TYPES = {\n    BEGIN: \"BEGIN\",\n    END: \"END\",\n    EMPTY: \"EMPTY\",\n    CLEAR: \"CLEAR\",\n    UNDO: \"UNDO\",\n    REDO: \"REDO\",\n    DRAW: \"DRAW\",\n    ERASE: \"ERASE\",\n    CHANGE_PEN: \"CHANGE_PEN\",\n    CHANGE_PEN_SIZE: \"CHANGE_PEN_SIZE\"\n};\nvar styles = _reactnative.StyleSheet.create({\n    webBg: {\n        width: \"100%\",\n        backgroundColor: \"transparent\",\n        flex: 1\n    },\n    loadingOverlayContainer: {\n        position: \"absolute\",\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    }\n});\nvar SignatureView = /*#__PURE__*/ (0, _react.forwardRef)(function(param, ref) {\n    var _param_androidHardwareAccelerationDisabled = param.androidHardwareAccelerationDisabled, androidHardwareAccelerationDisabled = _param_androidHardwareAccelerationDisabled === void 0 ? false : _param_androidHardwareAccelerationDisabled, _param_autoClear = param.autoClear, autoClear = _param_autoClear === void 0 ? false : _param_autoClear, _param_backgroundColor = param.backgroundColor, backgroundColor = _param_backgroundColor === void 0 ? \"\" : _param_backgroundColor, _param_bgHeight = param.bgHeight, bgHeight = _param_bgHeight === void 0 ? 0 : _param_bgHeight, _param_bgWidth = param.bgWidth, bgWidth = _param_bgWidth === void 0 ? 0 : _param_bgWidth, _param_bgSrc = param.bgSrc, bgSrc = _param_bgSrc === void 0 ? null : _param_bgSrc, _param_clearText = param.clearText, clearText = _param_clearText === void 0 ? \"Clear\" : _param_clearText, _param_confirmText = param.confirmText, confirmText = _param_confirmText === void 0 ? \"Confirm\" : _param_confirmText, _param_customHtml = param.customHtml, customHtml = _param_customHtml === void 0 ? null : _param_customHtml, _param_dataURL = param.dataURL, dataURL = _param_dataURL === void 0 ? \"\" : _param_dataURL, _param_descriptionText = param.descriptionText, descriptionText = _param_descriptionText === void 0 ? \"Sign above\" : _param_descriptionText, _param_dotSize = param.dotSize, dotSize = _param_dotSize === void 0 ? null : _param_dotSize, _param_imageType = param.imageType, imageType = _param_imageType === void 0 ? \"\" : _param_imageType, _param_minWidth = param.minWidth, minWidth = _param_minWidth === void 0 ? 0.5 : _param_minWidth, _param_maxWidth = param.maxWidth, maxWidth = _param_maxWidth === void 0 ? 2.5 : _param_maxWidth, _param_minDistance = param.minDistance, minDistance = _param_minDistance === void 0 ? 5 : _param_minDistance, _param_nestedScrollEnabled = param.nestedScrollEnabled, nestedScrollEnabled = _param_nestedScrollEnabled === void 0 ? false : _param_nestedScrollEnabled, _param_showsVerticalScrollIndicator = param.showsVerticalScrollIndicator, showsVerticalScrollIndicator = _param_showsVerticalScrollIndicator === void 0 ? true : _param_showsVerticalScrollIndicator, _param_onOK = param.onOK, onOK = _param_onOK === void 0 ? function() {} : _param_onOK, _param_onEmpty = param.onEmpty, onEmpty = _param_onEmpty === void 0 ? function() {} : _param_onEmpty, _param_onClear = param.onClear, onClear = _param_onClear === void 0 ? function() {} : _param_onClear, _param_onUndo = param.onUndo, onUndo = _param_onUndo === void 0 ? function() {} : _param_onUndo, _param_onRedo = param.onRedo, onRedo = _param_onRedo === void 0 ? function() {} : _param_onRedo, _param_onDraw = param.onDraw, onDraw = _param_onDraw === void 0 ? function() {} : _param_onDraw, _param_onErase = param.onErase, onErase = _param_onErase === void 0 ? function() {} : _param_onErase, _param_onGetData = param.onGetData, onGetData = _param_onGetData === void 0 ? function() {} : _param_onGetData, _param_onChangePenColor = param.onChangePenColor, onChangePenColor = _param_onChangePenColor === void 0 ? function() {} : _param_onChangePenColor, _param_onChangePenSize = param.onChangePenSize, onChangePenSize = _param_onChangePenSize === void 0 ? function() {} : _param_onChangePenSize, _param_onBegin = param.onBegin, onBegin = _param_onBegin === void 0 ? function() {} : _param_onBegin, _param_onEnd = param.onEnd, onEnd = _param_onEnd === void 0 ? function() {} : _param_onEnd, _param_onLoadEnd = param.onLoadEnd, onLoadEnd = _param_onLoadEnd === void 0 ? function() {} : _param_onLoadEnd, _param_onError = param.onError, onError = _param_onError === void 0 ? function() {} : _param_onError, _param_overlayHeight = param.overlayHeight, overlayHeight = _param_overlayHeight === void 0 ? 0 : _param_overlayHeight, _param_overlayWidth = param.overlayWidth, overlayWidth = _param_overlayWidth === void 0 ? 0 : _param_overlayWidth, _param_overlaySrc = param.overlaySrc, overlaySrc = _param_overlaySrc === void 0 ? null : _param_overlaySrc, _param_penColor = param.penColor, penColor = _param_penColor === void 0 ? \"\" : _param_penColor, _param_rotated = param.rotated, rotated = _param_rotated === void 0 ? false : _param_rotated, _param_style = param.style, style = _param_style === void 0 ? null : _param_style, _param_scrollable = param.scrollable, scrollable = _param_scrollable === void 0 ? false : _param_scrollable, _param_trimWhitespace = param.trimWhitespace, trimWhitespace = _param_trimWhitespace === void 0 ? false : _param_trimWhitespace, _param_webStyle = param.webStyle, webStyle = _param_webStyle === void 0 ? \"\" : _param_webStyle, _param_webviewContainerStyle = param.webviewContainerStyle, webviewContainerStyle = _param_webviewContainerStyle === void 0 ? null : _param_webviewContainerStyle, _param_androidLayerType = param.androidLayerType, androidLayerType = _param_androidLayerType === void 0 ? \"hardware\" : _param_androidLayerType, _param_webviewProps = param.webviewProps, webviewProps = _param_webviewProps === void 0 ? {} : _param_webviewProps;\n    var _useState = _sliced_to_array._((0, _react.useState)(true), 2), loading = _useState[0], setLoading = _useState[1];\n    var _useState1 = _sliced_to_array._((0, _react.useState)(false), 2), hasError = _useState1[0], setHasError = _useState1[1];\n    var _useState2 = _sliced_to_array._((0, _react.useState)(0), 2), retryCount = _useState2[0], setRetryCount = _useState2[1];\n    var maxRetries = 3;\n    var webViewRef = (0, _react.useRef)();\n    var injectedScript = (0, _react.useMemo)(function() {\n        var script = _signature_pad.default + _app.default;\n        script = script.replace(/<%autoClear%>/g, autoClear);\n        script = script.replace(/<%trimWhitespace%>/g, trimWhitespace);\n        script = script.replace(/<%imageType%>/g, imageType || \"image/png\");\n        script = script.replace(/<%dataURL%>/g, dataURL || \"\");\n        script = script.replace(/<%penColor%>/g, penColor || \"black\");\n        script = script.replace(/<%backgroundColor%>/g, backgroundColor || \"rgba(255,255,255,0)\");\n        script = script.replace(/<%dotSize%>/g, dotSize || \"null\");\n        script = script.replace(/<%minWidth%>/g, minWidth || 0.5);\n        script = script.replace(/<%maxWidth%>/g, maxWidth || 2.5);\n        script = script.replace(/<%minDistance%>/g, minDistance || 5);\n        script = script.replace(/<%orientation%>/g, rotated || false);\n        return script;\n    }, [\n        autoClear,\n        trimWhitespace,\n        imageType,\n        dataURL,\n        penColor,\n        backgroundColor,\n        dotSize,\n        minWidth,\n        maxWidth,\n        minDistance,\n        rotated\n    ]);\n    var source = (0, _react.useMemo)(function() {\n        var htmlContentValue = customHtml || _html.default;\n        var html = htmlContentValue(injectedScript);\n        html = html.replace(/<%bgWidth%>/g, bgWidth || 0);\n        html = html.replace(/<%bgHeight%>/g, bgHeight || 0);\n        html = html.replace(/<%bgSrc%>/g, bgSrc || \"null\");\n        html = html.replace(/<%overlayWidth%>/g, overlayWidth || 0);\n        html = html.replace(/<%overlayHeight%>/g, overlayHeight || 0);\n        html = html.replace(/<%overlaySrc%>/g, overlaySrc || \"null\");\n        html = html.replace(/<%style%>/g, webStyle || \"\");\n        html = html.replace(/<%description%>/g, descriptionText || \"Sign above\");\n        html = html.replace(/<%confirm%>/g, confirmText || \"Confirm\");\n        html = html.replace(/<%clear%>/g, clearText || \"Clear\");\n        html = html.replace(/<%orientation%>/g, rotated || false);\n        return {\n            html: html\n        };\n    }, [\n        injectedScript,\n        customHtml,\n        bgWidth,\n        bgHeight,\n        bgSrc,\n        overlayWidth,\n        overlayHeight,\n        overlaySrc,\n        webStyle,\n        descriptionText,\n        confirmText,\n        clearText,\n        rotated\n    ]);\n    var _useState3 = _sliced_to_array._((0, _react.useState)(false), 2), shouldReload = _useState3[0], setShouldReload = _useState3[1];\n    (0, _react.useEffect)(function() {\n        setShouldReload(true);\n    }, [\n        source\n    ]);\n    (0, _react.useEffect)(function() {\n        if (shouldReload && webViewRef.current) {\n            try {\n                webViewRef.current.reload();\n                setShouldReload(false);\n            } catch (error) {\n                console.warn(\"WebView reload failed:\", error);\n            }\n        }\n    }, [\n        shouldReload\n    ]);\n    var isJson = function(str) {\n        try {\n            JSON.parse(str);\n        } catch (e) {\n            return false;\n        }\n        return true;\n    };\n    var getSignature = (0, _react.useCallback)(function(e) {\n        var _e_nativeEvent;\n        if (!(e == null ? void 0 : (_e_nativeEvent = e.nativeEvent) == null ? void 0 : _e_nativeEvent.data)) {\n            console.warn(\"Invalid message received from WebView\");\n            return;\n        }\n        var data = e.nativeEvent.data;\n        try {\n            switch(data){\n                case MESSAGE_TYPES.BEGIN:\n                    onBegin();\n                    break;\n                case MESSAGE_TYPES.END:\n                    onEnd();\n                    break;\n                case MESSAGE_TYPES.EMPTY:\n                    onEmpty();\n                    break;\n                case MESSAGE_TYPES.CLEAR:\n                    onClear();\n                    break;\n                case MESSAGE_TYPES.UNDO:\n                    onUndo();\n                    break;\n                case MESSAGE_TYPES.REDO:\n                    onRedo();\n                    break;\n                case MESSAGE_TYPES.DRAW:\n                    onDraw();\n                    break;\n                case MESSAGE_TYPES.ERASE:\n                    onErase();\n                    break;\n                case MESSAGE_TYPES.CHANGE_PEN:\n                    onChangePenColor();\n                    break;\n                case MESSAGE_TYPES.CHANGE_PEN_SIZE:\n                    onChangePenSize();\n                    break;\n                default:\n                    if (isJson(data)) {\n                        onGetData(data);\n                    } else if (typeof data === \"string\" && data.startsWith(\"data:\")) {\n                        onOK(data);\n                    } else {\n                        console.warn(\"Unknown message type:\", data);\n                    }\n            }\n        } catch (error) {\n            console.error(\"Error handling WebView message:\", error);\n        }\n    }, [\n        onBegin,\n        onEnd,\n        onEmpty,\n        onClear,\n        onUndo,\n        onRedo,\n        onDraw,\n        onErase,\n        onChangePenColor,\n        onChangePenSize,\n        onGetData,\n        onOK\n    ]);\n    var executeWebViewMethod = (0, _react.useCallback)(function(method) {\n        var params = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n        if (!webViewRef.current) {\n            console.warn(`WebView ref is null when calling ${method}`);\n            return;\n        }\n        try {\n            var script = params.length > 0 ? `${method}(${params.map(function(p) {\n                return typeof p === 'string' ? `'${p}'` : p;\n            }).join(',')});true;` : `${method}();true;`;\n            webViewRef.current.injectJavaScript(script);\n        } catch (error) {\n            console.error(`Error executing WebView method ${method}:`, error);\n        }\n    }, []);\n    (0, _react.useImperativeHandle)(ref, function() {\n        return {\n            readSignature: function() {\n                return executeWebViewMethod('readSignature');\n            },\n            clearSignature: function() {\n                return executeWebViewMethod('clearSignature');\n            },\n            undo: function() {\n                return executeWebViewMethod('undo');\n            },\n            redo: function() {\n                return executeWebViewMethod('redo');\n            },\n            draw: function() {\n                return executeWebViewMethod('draw');\n            },\n            erase: function() {\n                return executeWebViewMethod('erase');\n            },\n            changePenColor: function(color) {\n                if (typeof color !== 'string') {\n                    console.warn('changePenColor: color must be a string');\n                    return;\n                }\n                executeWebViewMethod('changePenColor', [\n                    color\n                ]);\n            },\n            changePenSize: function(minW, maxW) {\n                if (typeof minW !== 'number' || typeof maxW !== 'number') {\n                    console.warn('changePenSize: minW and maxW must be numbers');\n                    return;\n                }\n                executeWebViewMethod('changePenSize', [\n                    minW,\n                    maxW\n                ]);\n            },\n            getData: function() {\n                return executeWebViewMethod('getData');\n            },\n            fromData: function(pointGroups) {\n                if (!pointGroups) {\n                    console.warn('fromData: pointGroups must be an array');\n                    return;\n                }\n                executeWebViewMethod('fromData', [\n                    pointGroups,\n                    false\n                ]);\n            }\n        };\n    }, [\n        executeWebViewMethod\n    ]);\n    var renderError = (0, _react.useCallback)(function(param) {\n        var nativeEvent = param.nativeEvent;\n        console.error(\"WebView error: \", nativeEvent);\n        setHasError(true);\n        try {\n            onError(new Error(`WebView error: ${nativeEvent.description || nativeEvent.code}`));\n        } catch (err) {\n            console.warn('Error in onError callback:', err);\n        }\n        if (webViewRef.current && nativeEvent.code !== -999 && retryCount < maxRetries) {\n            setTimeout(function() {\n                try {\n                    setRetryCount(function(prev) {\n                        return prev + 1;\n                    });\n                    webViewRef.current.reload();\n                    setHasError(false);\n                } catch (error) {\n                    console.error(\"Failed to reload WebView after error:\", error);\n                }\n            }, Math.min(1000 * Math.pow(2, retryCount), 5000));\n        }\n    }, [\n        onError,\n        retryCount,\n        maxRetries\n    ]);\n    var handleLoadEnd = (0, _react.useCallback)(function() {\n        setLoading(false);\n        setHasError(false);\n        setRetryCount(0);\n        try {\n            onLoadEnd();\n        } catch (error) {\n            console.warn('Error in onLoadEnd callback:', error);\n        }\n    }, [\n        onLoadEnd\n    ]);\n    var handleLoadStart = (0, _react.useCallback)(function() {\n        setLoading(true);\n    }, []);\n    var handleLoadProgress = (0, _react.useCallback)(function(param) {\n        var nativeEvent = param.nativeEvent;\n        if (nativeEvent.progress === 1) {\n            setLoading(false);\n        }\n    }, []);\n    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_reactnative.View, {\n        style: [\n            styles.webBg,\n            style\n        ],\n        children: [\n            /*#__PURE__*/ (0, _jsxruntime.jsx)(_reactnativewebview.WebView, _extends._({\n                ref: webViewRef,\n                source: source,\n                onMessage: getSignature,\n                onError: renderError,\n                onLoadEnd: handleLoadEnd,\n                onLoadStart: handleLoadStart,\n                onLoadProgress: handleLoadProgress,\n                javaScriptEnabled: true,\n                useWebKit: true,\n                bounces: false,\n                style: [\n                    webviewContainerStyle\n                ],\n                scrollEnabled: scrollable,\n                androidLayerType: androidLayerType,\n                androidHardwareAccelerationDisabled: androidHardwareAccelerationDisabled,\n                nestedScrollEnabled: nestedScrollEnabled,\n                showsVerticalScrollIndicator: showsVerticalScrollIndicator,\n                cacheEnabled: true,\n                allowsInlineMediaPlayback: false,\n                mediaPlaybackRequiresUserAction: true,\n                allowsBackForwardNavigationGestures: false,\n                allowsLinkPreview: false,\n                allowFileAccess: false,\n                allowFileAccessFromFileURLs: false,\n                allowUniversalAccessFromFileURLs: false,\n                mixedContentMode: \"never\",\n                originWhitelist: [\n                    '*'\n                ],\n                startInLoadingState: true\n            }, webviewProps)),\n            (loading || hasError) && /*#__PURE__*/ (0, _jsxruntime.jsx)(_reactnative.View, {\n                style: styles.loadingOverlayContainer,\n                children: hasError ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_reactnative.Text, {\n                    style: {\n                        color: '#ff0000',\n                        textAlign: 'center',\n                        padding: 10\n                    },\n                    children: [\n                        \"Error loading signature pad\",\n                        retryCount > 0 ? ` (Retry ${retryCount}/${maxRetries})` : ''\n                    ]\n                }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_reactnative.ActivityIndicator, {\n                    color: \"#007AFF\",\n                    size: \"small\"\n                })\n            })\n        ]\n    });\n});\nvar _default = SignatureView;\n"],"names":["Object","defineProperty","exports","value","enumerable","get","_default","script","_extends","_interop_require_default","_interop_require_wildcard","_sliced_to_array","_jsxruntime","_react","_","_reactnative","_html","_signature_pad","_app","_reactnativewebview","MESSAGE_TYPES","styles","StyleSheet","create","webBg","width","backgroundColor","flex","loadingOverlayContainer","position","top","bottom","left","right","alignItems","justifyContent","SignatureView","forwardRef","param","ref","_param_androidHardwareAccelerationDisabled","androidHardwareAccelerationDisabled","_param_autoClear","autoClear","_param_backgroundColor","_param_bgHeight","bgHeight","_param_bgWidth","bgWidth","_param_bgSrc","bgSrc","_param_clearText","clearText","_param_confirmText","confirmText","_param_customHtml","customHtml","_param_dataURL","dataURL","_param_descriptionText","descriptionText","_param_dotSize","dotSize","_param_imageType","imageType","_param_minWidth","minWidth","_param_maxWidth","maxWidth","_param_minDistance","minDistance","_param_nestedScrollEnabled","nestedScrollEnabled","_param_showsVerticalScrollIndicator","showsVerticalScrollIndicator","_param_onOK","onOK","_param_onEmpty","onEmpty","_param_onClear","onClear","_param_onUndo","onUndo","_param_onRedo","onRedo","_param_onDraw","onDraw","_param_onErase","onErase","_param_onGetData","onGetData","_param_onChangePenColor","onChangePenColor","_param_onChangePenSize","onChangePenSize","_param_onBegin","onBegin","_param_onEnd","onEnd","_param_onLoadEnd","onLoadEnd","_param_onError","onError","_param_overlayHeight","overlayHeight","_param_overlayWidth","overlayWidth","_param_overlaySrc","overlaySrc","_param_penColor","penColor","_param_rotated","rotated","_param_style","style","_param_scrollable","scrollable","_param_trimWhitespace","trimWhitespace","_param_webStyle","webStyle","_param_webviewContainerStyle","webviewContainerStyle","_param_androidLayerType","androidLayerType","_param_webviewProps","webviewProps","_useState","useState","loading","setLoading","_useState1","hasError","setHasError","_useState2","retryCount","setRetryCount","webViewRef","useRef","injectedScript","useMemo","default","replace","source","html","_useState3","shouldReload","setShouldReload","useEffect","current","reload","error","console","warn","getSignature","useCallback","e","_e_nativeEvent","nativeEvent","data","str","JSON","parse","isJson","startsWith","executeWebViewMethod","method","params","arguments","length","map","p","join","injectJavaScript","useImperativeHandle","readSignature","clearSignature","undo","redo","draw","erase","changePenColor","color","changePenSize","minW","maxW","getData","fromData","pointGroups","renderError","Error","description","code","err","setTimeout","prev","Math","min","pow","handleLoadEnd","handleLoadStart","handleLoadProgress","progress","jsxs","View","children","jsx","WebView","onMessage","onLoadStart","onLoadProgress","javaScriptEnabled","useWebKit","bounces","scrollEnabled","cacheEnabled","allowsInlineMediaPlayback","mediaPlaybackRequiresUserAction","allowsBackForwardNavigationGestures","allowsLinkPreview","allowFileAccess","allowFileAccessFromFileURLs","allowUniversalAccessFromFileURLs","mixedContentMode","originWhitelist","startInLoadingState","Text","textAlign","padding","ActivityIndicator","size"],"mappings":"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"}