{"version":3,"file":"vendors-node_modules_react-native-compressor_src_index_tsx.chunk.bundle","sources":["/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-compressor/src/Spec/NativeCompressor.ts","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-compressor/src/Audio/index.tsx","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-compressor/src/Image/index.tsx","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-compressor/src/Main.tsx","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-compressor/src/Video/index.tsx","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-compressor/src/index.tsx","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-compressor/src/utils/Downloader.tsx","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-compressor/src/utils/Uploader.tsx","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Main/node_modules/react-native-compressor/src/utils/index.tsx"],"sourcesContent":["Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _default;\n    }\n});\nvar _reactnative = require(\"react-native\");\nvar _default = _reactnative.TurboModuleRegistry.getEnforcing('Compressor');\n","Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _default;\n    }\n});\nvar _async_to_generator = require(\"@swc/helpers/_/_async_to_generator\");\nvar _Main = require(\"../Main\");\nvar _utils = require(\"../utils\");\nvar NativeAudio = _Main.Compressor;\nvar Audio = {\n    compress: function(url) {\n        var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : _utils.DEFAULT_COMPRESS_AUDIO_OPTIONS;\n        return _async_to_generator._(function*() {\n            try {\n                return NativeAudio.compress_audio(url, options);\n            } catch (error) {\n                throw error.message;\n            }\n        })();\n    }\n};\nvar _default = Audio;\n","Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _default;\n    }\n});\nvar _async_to_generator = require(\"@swc/helpers/_/_async_to_generator\");\nvar _Main = require(\"../Main\");\nvar _utils = require(\"../utils\");\nvar _reactnative = require(\"react-native\");\nvar base64UrlRegex = /^data:image\\/.*;(?:charset=.{3,5};)?base64,/;\nvar ImageCompressEventEmitter = new _reactnative.NativeEventEmitter(_Main.Compressor);\nvar NativeImage = _Main.Compressor;\nvar Image = {\n    compress: function(value) {\n        var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        return _async_to_generator._(function*() {\n            if (!value) {\n                throw new Error('Compression value is empty, please provide a value for compression.');\n            }\n            var subscription;\n            try {\n                if (options == null ? void 0 : options.downloadProgress) {\n                    var uuid = (0, _utils.uuidv4)();\n                    //@ts-ignore\n                    options.uuid = uuid;\n                    subscription = ImageCompressEventEmitter.addListener('downloadProgress', function(event) {\n                        if (event.uuid === uuid) {\n                            options.downloadProgress && options.downloadProgress(event.data.progress);\n                        }\n                    });\n                }\n                var cleanData = value.replace(base64UrlRegex, '');\n                return yield NativeImage.image_compress(cleanData, options);\n            } finally{\n                // @ts-ignore\n                if (subscription) {\n                    subscription.remove();\n                }\n            }\n        })();\n    }\n};\nvar _default = Image;\n","Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"Compressor\", {\n    enumerable: true,\n    get: function() {\n        return Compressor;\n    }\n});\nvar _reactnative = require(\"react-native\");\nvar LINKING_ERROR = `The package 'react-native-compressor' doesn't seem to be linked. Make sure: \\n\\n` + _reactnative.Platform.select({\n    ios: \"- You have run 'pod install'\\n\",\n    default: ''\n}) + '- You rebuilt the app after installing the package\\n' + '- You are not using Expo Go\\n';\n// @ts-expect-error\nvar isTurboModuleEnabled = global.__turboModuleProxy != null;\nvar CompressorModule = isTurboModuleEnabled ? require('./Spec/NativeCompressor').default : _reactnative.NativeModules.Compressor;\nvar Compressor = CompressorModule ? CompressorModule : new Proxy({}, {\n    get: function get() {\n        throw new Error(LINKING_ERROR);\n    }\n});\n","Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: Object.getOwnPropertyDescriptor(all, name).get\n    });\n}\n_export(exports, {\n    get cancelCompression () {\n        return cancelCompression;\n    },\n    get default () {\n        return _default;\n    }\n});\nvar _async_to_generator = require(\"@swc/helpers/_/_async_to_generator\");\nvar _reactnative = require(\"react-native\");\nvar _Main = require(\"../Main\");\nvar _utils = require(\"../utils\");\nvar VideoCompressEventEmitter = new _reactnative.NativeEventEmitter(_Main.Compressor);\nvar NativeVideoCompressor = _Main.Compressor;\nvar cancelCompression = function(cancellationId) {\n    return NativeVideoCompressor.cancelCompression(cancellationId);\n};\nvar Video = {\n    compress: function(fileUrl, options, onProgress) {\n        return _async_to_generator._(function*() {\n            var uuid = (0, _utils.uuidv4)();\n            var subscription;\n            var subscription2;\n            try {\n                if (onProgress) {\n                    subscription = VideoCompressEventEmitter.addListener('videoCompressProgress', function(event) {\n                        if (event.uuid === uuid) {\n                            onProgress(event.data.progress);\n                        }\n                    });\n                }\n                if (options == null ? void 0 : options.downloadProgress) {\n                    //@ts-ignore\n                    subscription2 = VideoCompressEventEmitter.addListener('downloadProgress', function(event) {\n                        if (event.uuid === uuid) {\n                            options.downloadProgress && options.downloadProgress(event.data.progress);\n                        }\n                    });\n                }\n                var modifiedOptions = {\n                    uuid: uuid\n                };\n                if (options == null ? void 0 : options.progressDivider) modifiedOptions.progressDivider = options == null ? void 0 : options.progressDivider;\n                if (options == null ? void 0 : options.bitrate) modifiedOptions.bitrate = options == null ? void 0 : options.bitrate;\n                if (options == null ? void 0 : options.compressionMethod) {\n                    modifiedOptions.compressionMethod = options == null ? void 0 : options.compressionMethod;\n                } else {\n                    modifiedOptions.compressionMethod = 'auto';\n                }\n                if (options == null ? void 0 : options.maxSize) {\n                    modifiedOptions.maxSize = options == null ? void 0 : options.maxSize;\n                } else {\n                    modifiedOptions.maxSize = 640;\n                }\n                if ((options == null ? void 0 : options.minimumFileSizeForCompress) !== undefined) {\n                    modifiedOptions.minimumFileSizeForCompress = options == null ? void 0 : options.minimumFileSizeForCompress;\n                }\n                if (options == null ? void 0 : options.getCancellationId) {\n                    options == null ? void 0 : options.getCancellationId(uuid);\n                }\n                var result = yield NativeVideoCompressor.compress(fileUrl, modifiedOptions);\n                return result;\n            } finally{\n                // @ts-ignore\n                if (subscription) {\n                    subscription.remove();\n                }\n                //@ts-ignore\n                if (subscription2) {\n                    subscription2.remove();\n                }\n            }\n        })();\n    },\n    cancelCompression: cancelCompression,\n    activateBackgroundTask: function activateBackgroundTask(onExpired) {\n        if (onExpired) {\n            var subscription = VideoCompressEventEmitter.addListener('backgroundTaskExpired', function(event) {\n                onExpired(event);\n                if (subscription) {\n                    subscription.remove();\n                }\n            });\n        }\n        return NativeVideoCompressor.activateBackgroundTask({});\n    },\n    deactivateBackgroundTask: function deactivateBackgroundTask() {\n        VideoCompressEventEmitter.removeAllListeners('backgroundTaskExpired');\n        return NativeVideoCompressor.deactivateBackgroundTask({});\n    }\n};\nvar _default = Video;\n","Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: Object.getOwnPropertyDescriptor(all, name).get\n    });\n}\n_export(exports, {\n    get Audio () {\n        return _Audio.default;\n    },\n    get Image () {\n        return _Image.default;\n    },\n    get UploadType () {\n        return _utils.UploadType;\n    },\n    get UploaderHttpMethod () {\n        return _utils.UploaderHttpMethod;\n    },\n    get Video () {\n        return _Video.default;\n    },\n    get backgroundUpload () {\n        return _utils.backgroundUpload;\n    },\n    get cancelUpload () {\n        return _utils.cancelUpload;\n    },\n    get clearCache () {\n        return _utils.clearCache;\n    },\n    get createVideoThumbnail () {\n        return _utils.createVideoThumbnail;\n    },\n    get default () {\n        return _default;\n    },\n    get download () {\n        return _utils.download;\n    },\n    get generateFilePath () {\n        return _utils.generateFilePath;\n    },\n    get //type\n    getDetails () {\n        return _utils.getDetails;\n    },\n    get getFileSize () {\n        return _utils.getFileSize;\n    },\n    get getImageMetaData () {\n        return _utils.getImageMetaData;\n    },\n    get getRealPath () {\n        return _utils.getRealPath;\n    },\n    get getVideoMetaData () {\n        return _utils.getVideoMetaData;\n    },\n    get uuidv4 () {\n        return _utils.uuidv4;\n    }\n});\nvar _interop_require_default = require(\"@swc/helpers/_/_interop_require_default\");\nvar _Video = /*#__PURE__*/ _interop_require_default._(require(\"./Video\"));\nvar _Audio = /*#__PURE__*/ _interop_require_default._(require(\"./Audio\"));\nvar _Image = /*#__PURE__*/ _interop_require_default._(require(\"./Image\"));\nvar _utils = require(\"./utils\");\nvar _default = {\n    Video: _Video.default,\n    Audio: _Audio.default,\n    Image: _Image.default,\n    getDetails: _utils.getDetails,\n    uuidv4: _utils.uuidv4,\n    generateFilePath: _utils.generateFilePath,\n    getRealPath: _utils.getRealPath,\n    getVideoMetaData: _utils.getVideoMetaData,\n    getImageMetaData: _utils.getImageMetaData,\n    getFileSize: _utils.getFileSize,\n    backgroundUpload: _utils.backgroundUpload,\n    createVideoThumbnail: _utils.createVideoThumbnail,\n    clearCache: _utils.clearCache,\n    download: _utils.download,\n    UploadType: _utils.UploadType,\n    UploaderHttpMethod: _utils.UploaderHttpMethod\n};\n","Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"download\", {\n    enumerable: true,\n    get: function() {\n        return download;\n    }\n});\nvar _async_to_generator = require(\"@swc/helpers/_/_async_to_generator\");\nvar _reactnative = require(\"react-native\");\nvar _Main = require(\"../Main\");\nvar _index = require(\"./index\");\nvar CompressEventEmitter = new _reactnative.NativeEventEmitter(_Main.Compressor);\nvar download = function(fileUrl, downloadProgress, progressDivider) {\n    return _async_to_generator._(function*() {\n        var subscription;\n        try {\n            var uuid = (0, _index.uuidv4)();\n            if (downloadProgress) {\n                subscription = CompressEventEmitter.addListener('downloadProgress', function(event) {\n                    if (event.uuid === uuid) {\n                        downloadProgress(event.data.progress);\n                    }\n                });\n            }\n            if (_reactnative.Platform.OS === 'android' && fileUrl.includes('file://')) {\n                fileUrl = fileUrl.replace('file://', '');\n            }\n            var result = yield _Main.Compressor.download(fileUrl, {\n                uuid: uuid,\n                progressDivider: progressDivider\n            });\n            return result;\n        } finally{\n            // @ts-ignore\n            if (subscription) {\n                subscription.remove();\n            }\n        }\n    })();\n};\n","Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: Object.getOwnPropertyDescriptor(all, name).get\n    });\n}\n_export(exports, {\n    get UploadType () {\n        return UploadType;\n    },\n    get UploaderHttpMethod () {\n        return UploaderHttpMethod;\n    },\n    get backgroundUpload () {\n        return backgroundUpload;\n    },\n    get cancelUpload () {\n        return cancelUpload;\n    }\n});\nvar _async_to_generator = require(\"@swc/helpers/_/_async_to_generator\");\nvar _extends = require(\"@swc/helpers/_/_extends\");\nvar _object_spread_props = require(\"@swc/helpers/_/_object_spread_props\");\nvar _reactnative = require(\"react-native\");\nvar _Main = require(\"../Main\");\nvar _index = require(\"./index\");\nvar CompressEventEmitter = new _reactnative.NativeEventEmitter(_Main.Compressor);\nvar UploadType = /*#__PURE__*/ function(UploadType) {\n    UploadType[UploadType[\"BINARY_CONTENT\"] = 0] = \"BINARY_CONTENT\";\n    UploadType[UploadType[\"MULTIPART\"] = 1] = \"MULTIPART\";\n    return UploadType;\n}({});\nvar UploaderHttpMethod = /*#__PURE__*/ function(UploaderHttpMethod) {\n    UploaderHttpMethod[\"POST\"] = \"POST\";\n    UploaderHttpMethod[\"PUT\"] = \"PUT\";\n    UploaderHttpMethod[\"PATCH\"] = \"PATCH\";\n    return UploaderHttpMethod;\n}({});\nvar cancelUpload = function() {\n    var uuid = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '', shouldCancelAll = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    return _Main.Compressor.cancelUpload(uuid, shouldCancelAll);\n};\nvar backgroundUpload = function(url, fileUrl, options, onProgress, abortSignal) {\n    return _async_to_generator._(function*() {\n        var uuid = (0, _index.uuidv4)();\n        var subscription;\n        try {\n            if (onProgress) {\n                subscription = CompressEventEmitter.addListener('uploadProgress', function(event) {\n                    if (event.uuid === uuid) {\n                        onProgress(event.data.written, event.data.total);\n                    }\n                });\n            }\n            if (_reactnative.Platform.OS === 'android' && fileUrl.includes('file://')) {\n                fileUrl = fileUrl.replace('file://', '');\n            }\n            if (options == null ? void 0 : options.getCancellationId) {\n                options == null ? void 0 : options.getCancellationId(uuid);\n            }\n            abortSignal == null ? void 0 : abortSignal.addEventListener('abort', function() {\n                return cancelUpload(uuid);\n            });\n            var result = yield _Main.Compressor.upload(fileUrl, _object_spread_props._(_extends._({\n                uuid: uuid,\n                method: options.httpMethod,\n                headers: options.headers,\n                uploadType: options.uploadType\n            }, options), {\n                url: url\n            }));\n            return result;\n        } finally{\n            // @ts-ignore\n            if (subscription) {\n                subscription.remove();\n            }\n            abortSignal == null ? void 0 : abortSignal.removeEventListener('abort', function() {\n                return cancelUpload(uuid);\n            });\n        }\n    })();\n};\n","/* eslint-disable no-bitwise */ Object.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: Object.getOwnPropertyDescriptor(all, name).get\n    });\n}\n_export(exports, {\n    get DEFAULT_COMPRESS_AUDIO_OPTIONS () {\n        return DEFAULT_COMPRESS_AUDIO_OPTIONS;\n    },\n    get clearCache () {\n        return clearCache;\n    },\n    get createVideoThumbnail () {\n        return createVideoThumbnail;\n    },\n    get generateFilePath () {\n        return generateFilePath;\n    },\n    get getDetails () {\n        return getDetails;\n    },\n    get getFileSize () {\n        return getFileSize;\n    },\n    get getImageMetaData () {\n        return getImageMetaData;\n    },\n    get getRealPath () {\n        return getRealPath;\n    },\n    get getVideoMetaData () {\n        return getVideoMetaData;\n    },\n    get uuidv4 () {\n        return uuidv4;\n    }\n});\nvar _async_to_generator = require(\"@swc/helpers/_/_async_to_generator\");\nvar _export_star = require(\"@swc/helpers/_/_export_star\");\nvar _Main = require(\"../Main\");\nvar _reactnative = require(\"react-native\");\n_export_star._(require(\"./Downloader\"), exports);\n_export_star._(require(\"./Uploader\"), exports);\nvar INCORRECT_INPUT_PATH = 'Incorrect input path. Please provide a valid one';\nvar DEFAULT_COMPRESS_AUDIO_OPTIONS = {\n    // bitrate: 96,\n    quality: 'medium'\n};\nvar generateFilePath = function(extension) {\n    return new Promise(function(resolve, reject) {\n        _Main.Compressor.generateFilePath(extension).then(function(result) {\n            return resolve('file://' + result);\n        }).catch(function(error) {\n            return reject(error);\n        });\n    });\n};\nvar getRealPath = function(path) {\n    var type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'video';\n    return _Main.Compressor.getRealPath(path, type);\n};\nvar getVideoMetaData = function(path) {\n    return _Main.Compressor.getVideoMetaData(path);\n};\nvar unifyMetaData = function(exifResult) {\n    var output = {};\n    var isIos = _reactnative.Platform.OS === 'ios';\n    output.ImageWidth = isIos ? exifResult == null ? void 0 : exifResult.PixelWidth : parseInt(exifResult.ImageWidth);\n    output.ImageHeight = isIos ? exifResult == null ? void 0 : exifResult.PixelHeight : parseInt(exifResult.ImageLength);\n    output.Orientation = isIos ? exifResult.Orientation : parseInt(exifResult.Orientation);\n    output.size = exifResult.size;\n    output.extension = exifResult.extension;\n    output.exif = exifResult;\n    return output;\n};\nvar getImageMetaData = function(path) {\n    return _async_to_generator._(function*() {\n        var result = yield _Main.Compressor.getImageMetaData(path);\n        return unifyMetaData(result);\n    })();\n};\nvar createVideoThumbnail = function(fileUrl) {\n    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    return _Main.Compressor.createVideoThumbnail(fileUrl, options);\n};\nvar clearCache = function(cacheDir) {\n    return _Main.Compressor.clearCache(cacheDir);\n};\nvar isValidUrl = function(url) {\n    return /^(?:\\w+:)?\\/\\/([^\\s\\.]+\\.\\S{2}|localhost[\\:?\\d]*)\\S*$/.test(url);\n};\nvar getFullFilename = function(path) {\n    if (typeof path === 'string') {\n        var _path = path;\n        // In case of remote media, check if the url would be valid one\n        if (path.includes('http') && !isValidUrl(path)) {\n            return INCORRECT_INPUT_PATH;\n        }\n        // In case of url, check if it ends with \"/\" and do not consider it furthermore\n        if (_path[_path.length - 1] === '/') _path = _path.substring(0, path.length - 1);\n        var array = _path.split('/');\n        return array.length > 1 ? array[array.length - 1] : INCORRECT_INPUT_PATH;\n    }\n    return INCORRECT_INPUT_PATH;\n};\nvar isFileNameError = function(filename) {\n    return filename === INCORRECT_INPUT_PATH;\n};\nvar getFilename = function(path) {\n    var fullFilename = getFullFilename(path);\n    if (fullFilename && !isFileNameError(fullFilename)) {\n        var array = fullFilename.split('.');\n        return array.length > 1 ? array.slice(0, -1).join('') : array.join('');\n    }\n    return fullFilename;\n};\nvar isRemoteMedia = function(path) {\n    var _path_split_, _path_split;\n    return typeof path === 'string' ? path == null ? void 0 : (_path_split = path.split(':/')) == null ? void 0 : (_path_split_ = _path_split[0]) == null ? void 0 : _path_split_.includes('http') : null;\n};\nvar getDetails = function(mediaFullPath) {\n    var extesnion = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'mp3';\n    return new Promise(function(resolve, reject) {\n        return _async_to_generator._(function*() {\n            try {\n                // Since we used \"-v error\", a work around is to call first this command before the following\n                var result = {};\n                if (result !== 0) {\n                    throw new Error('Failed to execute command');\n                }\n                // get the output result of the command\n                // example of output {\"programs\": [], \"streams\": [{\"width\": 640,\"height\": 360}], \"format\": {\"size\": \"15804433\"}}\n                var mediaInfo = yield {};\n                mediaInfo = JSON.parse(mediaInfo);\n                // execute second command\n                var mediaInformation = yield {};\n                // treat both results\n                mediaInformation.filename = getFilename(mediaFullPath);\n                mediaInformation.bitrate = mediaInformation.getMediaProperties().bit_rate;\n                mediaInformation.extension = extesnion;\n                mediaInformation.isRemoteMedia = isRemoteMedia(mediaFullPath);\n                mediaInformation.size = Number(mediaInfo.format.size);\n                resolve(mediaInformation);\n            } catch (e) {\n                reject(e);\n            }\n        })();\n    });\n};\nvar getFileSize = function(filePath) {\n    return _async_to_generator._(function*() {\n        return _Main.Compressor.getFileSize(filePath);\n    })();\n};\nvar uuidv4 = function() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = parseFloat('0.' + Math.random().toString().replace('0.', '') + new Date().getTime()) * 16 | 0, // eslint-disable-next-line eqeqeq\n        v = c == 'x' ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n    });\n};\n"],"names":["Object","defineProperty","exports","enumerable","get","_default","TurboModuleRegistry","getEnforcing","value","_async_to_generator","_Main","_utils","NativeAudio","Compressor","Audio","compress","url","options","arguments","length","DEFAULT_COMPRESS_AUDIO_OPTIONS","_","compress_audio","error","message","_reactnative","base64UrlRegex","ImageCompressEventEmitter","NativeEventEmitter","NativeImage","Image","Error","subscription","downloadProgress","uuid","uuidv4","addListener","event","data","progress","cleanData","replace","image_compress","remove","LINKING_ERROR","Platform","select","ios","default","CompressorModule","g","__turboModuleProxy","NativeModules","Proxy","target","all","name","getOwnPropertyDescriptor","_export","cancelCompression","VideoCompressEventEmitter","NativeVideoCompressor","cancellationId","fileUrl","onProgress","subscription2","modifiedOptions","progressDivider","bitrate","compressionMethod","maxSize","undefined","minimumFileSizeForCompress","getCancellationId","activateBackgroundTask","onExpired","deactivateBackgroundTask","removeAllListeners","_Audio","_Image","UploadType","UploaderHttpMethod","Video","_Video","backgroundUpload","cancelUpload","clearCache","createVideoThumbnail","download","generateFilePath","getDetails","getFileSize","getImageMetaData","getRealPath","getVideoMetaData","_interop_require_default","_index","CompressEventEmitter","OS","includes","_extends","_object_spread_props","shouldCancelAll","abortSignal","written","total","addEventListener","upload","method","httpMethod","headers","uploadType","removeEventListener","_export_star","INCORRECT_INPUT_PATH","quality","extension","Promise","resolve","reject","then","result","catch","path","type","exifResult","output","isIos","ImageWidth","PixelWidth","parseInt","ImageHeight","PixelHeight","ImageLength","Orientation","size","exif","cacheDir","getFilename","fullFilename","_path","test","substring","array","split","getFullFilename","slice","join","mediaFullPath","extesnion","mediaInfo","JSON","parse","mediaInformation","filename","getMediaProperties","bit_rate","isRemoteMedia","_path_split","_path_split_","Number","format","e","filePath","c","r","parseFloat","Math","random","toString","Date","getTime"],"mappings":"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"}