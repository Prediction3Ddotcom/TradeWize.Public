(self.webpackChunksas_auth=self.webpackChunksas_auth||[]).push([["src_screens_Login_index_tsx"],{17613:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:Object.getOwnPropertyDescriptor(t,r).get})}(t,{get handleBiometricAuthentication(){return S},get handleForgotPassword(){return _},get onCLickLogin(){return y}});var n=r(10698),o=r(55481),i=r(56791),l=o._(r(18784)),a=r(67731),s=r(22072),u=r(49080),d=r(63697),c=r(81214),g=r(83598),f=r(72650),h=new(o._(r(96561)).default),y=function(e){try{var t=e.username,r=e.password;if(!t||!r)return;u.store.dispatch((0,s.loginAsync)({username:t,password:r}))}catch(e){(0,f.logger)("error onCLickLogin",e)}},_=function(){d.NavigationService.navigate(g.SCREENS_ENUM.ForgotPasswordScreen)},S=function(){return n._(function*(){try{var e=yield h.isSensorAvailable();if(!(null==e?void 0:e.available))return void u.store.dispatch((0,a.showAlert)({visible:!0,type:"warning",title:l.default.t("WARNING"),message:l.default.t("YOUR_DEVICE_IS_NOT_SUPPORTED_OR_YOU_HAVE_NOT_REGISTERED_BIOMETRICS_ON_YOUR_DEVICE"),buttonText:l.default.t("CONFIRM"),onClose:function(){u.store.dispatch((0,a.hideAlert)())}}));var t=yield c.StorageService.get(c.STORAGE_KEY.BIOMETRIC_KEY);if(null==t?void 0:t.biometricKey){var r=yield(0,i.requestPermissionBiometric)();(null==r?void 0:r.granted)&&u.store.dispatch((0,s.loginBiometricAsync)())}else u.store.dispatch((0,a.showAlert)({visible:!0,type:"warning",title:l.default.t("WARNING"),message:l.default.t("YOUR_DEVICE_IS_NOT_SUPPORTED_OR_YOU_HAVE_NOT_REGISTERED_BIOMETRICS_ON_YOUR_DEVICE"),buttonText:l.default.t("CONFIRM"),onClose:function(){u.store.dispatch((0,a.hideAlert)())}}))}catch(e){(0,f.logger)("error handleBiometricAuthentication",e)}})()}},41814:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useLogin",{enumerable:!0,get:function(){return f}});var n=r(10698),o=r(55481),i=r(15981),l=r(87070),a=r(81178),s=o._(r(42381)),u=r(17613),d=r(57038),c=r(72650),g=r(81214),f=function(){var e=(0,d.useSelector)(function(e){return e.auth.isLoginBiometricAuthentication}),t=(0,l.useCallback)(function(){return n._(function*(){try{var t=yield g.StorageService.get(g.STORAGE_KEY.BIOMETRIC_KEY);(null==t?void 0:t.biometricKey)&&e&&(0,u.handleBiometricAuthentication)()}catch(e){(0,c.logger)("error checkSettingBio",e)}})()},[e]);(0,i.useFocusEffect)((0,l.useCallback)(function(){t(),setTimeout(function(){a.StatusBar.setBarStyle("dark-content"),"android"===a.Platform.OS&&a.StatusBar.setBackgroundColor(s.default.primary)},300)},[t]))}},26853:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"styles",{enumerable:!0,get:function(){return a}});var n=r(55481),o=r(81178),i=n._(r(42381)),l=r(74223),a=o.StyleSheet.create({scrollView:{flex:1,backgroundColor:i.default.white},container:{flex:1,backgroundColor:i.default.primary},keyboardAvoidingView:{flex:1,backgroundColor:i.default.primary},logo:{alignSelf:"center",marginTop:"ios"===o.Platform.OS?0:24,height:200,width:350},title:{color:i.default.mainColorPrimary,textAlign:"center",marginVertical:12,fontWeight:"bold"},formContainer:{flex:1,backgroundColor:i.default.white,borderTopLeftRadius:32,borderTopRightRadius:32,paddingTop:8},inputContainer:{paddingHorizontal:16,gap:8,paddingTop:16},input:{borderRadius:8,flex:1,height:"100%"},containerInput:{paddingVertical:4},labelInput:{fontSize:14,fontWeight:"600",color:i.default.black},borderStyle:{borderWidth:1,borderColor:i.default.mainColorPrimary},fieldContainer:{flexDirection:"row",alignItems:"center",borderWidth:1,borderColor:i.default.borderGray,borderRadius:8},forgotPasswordContainer:{flexDirection:"row",alignItems:"center",gap:4,alignSelf:"flex-end"},forgotPasswordText:{fontSize:14,fontWeight:"600",color:i.default.mainColorPrimary,lineHeight:24},flexRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:8,gap:8},loginButton:{flex:1,backgroundColor:i.default.mainColorPrimary,height:56},loginButtonText:{color:i.default.white,fontWeight:"600",fontSize:16},loginButtonBiometric:{backgroundColor:i.default.white,borderRadius:8,borderWidth:1,borderColor:i.default.mainColorPrimary,padding:56,height:56,width:56,alignItems:"center",justifyContent:"center"},registerButton:{backgroundColor:i.default.white,borderColor:i.default.mainColorPrimary,marginTop:16},registerButtonText:{color:i.default.grayScale70,lineHeight:24,fontSize:16,fontWeight:"500"},registerButtonTextLink:{color:i.default.mainColorPrimary,textDecorationLine:"underline",fontWeight:"bold",lineHeight:24},loginButtonAsGuest:{backgroundColor:i.default.twColors.text.darkGray,alignItems:"center",justifyContent:"center"},loginButtonTextAsGuest:{color:i.default.white,fontSize:16,fontWeight:"500",lineHeight:24},versionText:{color:i.default.black,textAlign:"center",marginTop:5,fontSize:12,fontWeight:"400",lineHeight:16},txtPolicy:{color:i.default.mainColorPrimary,fontSize:14,fontWeight:"bold",textDecorationLine:"underline"},btnPolicyContainer:{alignSelf:"center"},selectLanguageButton:{alignSelf:"flex-end",marginRight:16,backgroundColor:i.default.grayScale70,borderRadius:100,paddingVertical:0,paddingHorizontal:0,width:.13*l.SCREEN_WIDTH},buttonText:{color:i.default.white,fontSize:14,fontWeight:"600"}})},14298:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getLoginSchema",{enumerable:!0,get:function(){return a}});var n=r(55481),o=r(19180),i=n._(r(18784)),l=o._(r(97944)),a=function(){return l.object({username:l.string().min(3,i.default.t("USERNAME_MUST_BE_BETWEEN_3_AND_150_CHARACTERS")).max(150,i.default.t("USERNAME_MUST_BE_BETWEEN_3_AND_150_CHARACTERS")).required(i.default.t("USERNAME_CANNOT_BE_EMPTY")),password:l.string().min(8,i.default.t("PASSWORD_MUST_BE_AT_LEAST_NUMBER_CHARACTERS_LONG",{number:8})).required(i.default.t("PASSWORD_CANNOT_BE_EMPTY"))})}},56791:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"requestPermissionBiometric",{enumerable:!0,get:function(){return c}});var n=r(10698),o=r(55481),i=r(81178),l=r(77719),a=r(38074),s=r(67731),u=o._(r(18784)),d=r(72650),c=function(){return n._(function*(){try{if("ios"===i.Platform.OS){var e=l.PERMISSIONS.IOS.FACE_ID,t=yield(0,l.check)(e);if(t===l.RESULTS.UNAVAILABLE)return a.store.dispatch((0,s.showAlert)({visible:!0,type:"warning",title:u.default.t("WARNING"),message:u.default.t("YOUR_DEVICE_DOES_NOT_SUPPORT_THIS_FEATURE"),buttonText:u.default.t("CONFIRM"),onClose:function(){return a.store.dispatch((0,s.hideAlert)())}})),{granted:!1};if(t===l.RESULTS.BLOCKED)return a.store.dispatch((0,s.showAlert)({visible:!0,type:"warning",title:u.default.t("WARNING"),message:u.default.t("BIOMETRIC_PERMISSION_BLOCKED"),buttonText:u.default.t("OPEN_SETTING"),onClose:function(){a.store.dispatch((0,s.hideAlert)()),(0,l.openSettings)()}})),{granted:!1};if(t===l.RESULTS.GRANTED)return{granted:!0};var r=yield(0,l.request)(e);return{granted:r===l.RESULTS.GRANTED,status:r}}return{granted:!0,note:"Android does not support biometric runtime permission. Only iOS FACE_ID is requestable."}}catch(e){(0,d.logger)("error requestBiometricAuthentication",e)}})()}},38112:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return B}});var n=r(81427),o=r(82367),i=r(55481),l=r(19180),a=r(24350),s=r(34352),u=r(14056),d=l._(r(87070)),c=r(26853),g=r(12387),f=r(81178),h=r(44184),y=r(74223),_=r(33854),S=r(67621),E=r(14298),m=r(14364),T=r(52351),C=r(6310),x=i._(r(42381)),p=r(17613),b=r(57038),R=i._(r(44285)),A=r(67731),O=r(83598),v=r(63697),I=i._(r(83253)),N=r(27641),P=r(41814),w={username:"thaitest2@gmail.com",password:"Abcd1234@"},B=function(){var e,t=(0,d.useRef)(null),r=(0,N.useAppTranslation)(),i=r.t,l=r.i18n,B=s._((0,d.useState)(!0),2),j=B[0],D=B[1],L=(0,b.useSelector)(function(e){return e.auth}).error,k=I.default.getVersion(),M=(0,b.useDispatch)(),U=(0,C.useSafeAreaInsets)(),W=(0,d.useMemo)(function(){return(0,E.getLoginSchema)()},[i]);return(0,P.useLogin)(),(0,u.jsx)(f.ScrollView,{bounces:!1,alwaysBounceVertical:!1,style:c.styles.scrollView,showsVerticalScrollIndicator:!1,children:(0,u.jsxs)(f.View,{style:[c.styles.container,{paddingTop:U.top}],children:[(0,u.jsx)(f.StatusBar,{barStyle:"dark-content",backgroundColor:x.default.primary}),(0,u.jsx)(g.KeyboardAvoidingView,{style:c.styles.keyboardAvoidingView,children:(0,u.jsx)(f.TouchableNativeFeedback,{onPress:function(){return f.Keyboard.dismiss()},children:(0,u.jsxs)(f.View,{style:c.styles.keyboardAvoidingView,children:[(0,u.jsx)(y.Button,{onPress:function(){return M((0,A.showSelectedLanguageModal)())},size:"small",variant:"ghost",style:c.styles.selectLanguageButton,children:(0,u.jsx)(y.Text,{style:c.styles.buttonText,children:null==(e=R.default.getName(l.language,"en"))?void 0:e.toUpperCase().slice(0,3)})}),(0,u.jsx)(f.Image,{source:h.logo_full,style:c.styles.logo,resizeMode:"contain"}),(0,u.jsx)(y.Text,{style:c.styles.title,variant:"h4",children:i("WELCOME")}),(0,u.jsx)(f.View,{style:[c.styles.formContainer,{paddingBottom:U.bottom}],children:(0,u.jsx)(_.Formik,{innerRef:t,initialValues:w,validationSchema:W,onSubmit:p.onCLickLogin,children:function(e){var t=e.handleChange,r=e.handleSubmit,l=e.setTouched,s=e.values,d=e.errors,g=e.touched;return(0,u.jsxs)(f.View,{style:[c.styles.inputContainer],children:[["username","password"].map(function(e){return(0,u.jsxs)(f.View,{children:[(0,u.jsx)(y.Text,{style:c.styles.labelInput,children:i("username"===e?"EMAIL":"PASSWORD")}),(0,u.jsx)(y.Input,{maxLength:"username"===e?150:50,isError:!(!d[e]||!g[e]),borderColorActive:x.default.mainColorPrimary,placeholderTextColor:x.default.grayScale70,style:c.styles.input,inputContainerStyle:c.styles.containerInput,placeholder:i("username"===e?"ENTER_YOUR_EMAIL_ADDRESS":"ENTER_YOUR_PASSWORD"),keyboardType:"username"===e?"email-address":"default",autoComplete:"off",textContentType:"none",autoCorrect:!1,autoCapitalize:"none",onChangeText:function(r){t(e)(r.trim())},onFocus:function(){l(a._(o._({},g),n._({},e,!1)))},onBlur:function(){l(a._(o._({},g),n._({},e,!0)))},value:s[e],secureTextEntry:"password"===e&&j,rightIcon:"password"===e&&(0,u.jsx)(y.Button,{variant:"ghost",onPress:function(){return D(!j)},children:(0,u.jsx)(T.SvgXml,{xml:j?(0,m.EyeIconOff)():(0,m.EyeIcon)(),width:.05*y.SCREEN_WIDTH,height:.05*y.SCREEN_WIDTH})})},"password"===e?`password-${j}`:e),d[e]&&g[e]&&(0,u.jsx)(y.Text,{style:S.globalStyles.errorText,children:d[e]})]},e)}),L&&(0,u.jsx)(y.Text,{style:S.globalStyles.errorBackground,children:L}),(0,u.jsxs)(y.Button,{onPress:p.handleForgotPassword,variant:"ghost",style:c.styles.forgotPasswordContainer,children:[(0,u.jsx)(T.SvgXml,{xml:(0,m.IconLock)(),width:.05*y.SCREEN_WIDTH,height:.05*y.SCREEN_WIDTH}),(0,u.jsx)(y.Text,{style:c.styles.forgotPasswordText,children:i("FORGOT_PASSWORD")})]}),(0,u.jsxs)(f.View,{style:c.styles.flexRow,children:[(0,u.jsx)(y.Button,{onPress:function(){return r()},variant:"primary",style:c.styles.loginButton,children:(0,u.jsx)(y.Text,{style:c.styles.loginButtonText,children:i("LOGIN")})}),(0,u.jsx)(y.Button,{style:c.styles.loginButtonBiometric,variant:"ghost",onPress:p.handleBiometricAuthentication,children:(0,u.jsx)(T.SvgXml,{xml:"android"===f.Platform.OS?(0,m.IconFingerprint)():(0,m.IconFaceId)(),width:.1*y.SCREEN_WIDTH,height:.1*y.SCREEN_WIDTH})})]}),(0,u.jsx)(y.Button,{onPress:function(){return v.NavigationService.navigate(O.SCREENS_ENUM.RegisterNavigator)},variant:"secondary",style:c.styles.registerButton,children:(0,u.jsxs)(y.Text,{style:c.styles.registerButtonText,children:[i("DONT_HAVE_AN_ACCOUNT")," ",(0,u.jsx)(y.Text,{style:c.styles.registerButtonTextLink,children:i("SIGN_UP")})]})}),(0,u.jsx)(y.Button,{onPress:function(){return v.NavigationService.navigate(O.SCREENS_ENUM.HomeGuestScreen)},variant:"primary",style:c.styles.loginButtonAsGuest,children:(0,u.jsx)(y.Text,{style:c.styles.loginButtonTextAsGuest,children:i("CONTINUE_AS_A_GUEST")})}),(0,u.jsx)(y.Text,{style:c.styles.versionText,children:i("VERSION",{version:k})}),(0,u.jsx)(y.Button,{variant:"ghost",onPress:function(){v.NavigationService.navigate(O.SCREENS_ENUM.LegalAndPrivacyPolicyScreen)},style:c.styles.btnPolicyContainer,children:(0,u.jsx)(y.Text,{style:c.styles.txtPolicy,children:i("LEGAL_PRIVACY_POLICY")})})]})}})})]})})})]})})}}}]);//# sourceMappingURL=src_screens_Login_index_tsx.chunk.bundle.map?platform=ios