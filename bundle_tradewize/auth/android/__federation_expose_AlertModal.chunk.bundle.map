{"version":3,"file":"__federation_expose_AlertModal.chunk.bundle","sources":["/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Auth/src/redux/store/types.ts","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Auth/src/components/Modal/AlertModal/index.tsx"],"sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport { store } from '.';\nimport rootReducer from './rootReducer';\n\nexport type RootState = ReturnType<typeof rootReducer>;\nexport type AppDispatch = typeof store.dispatch;\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nexport type ResponseApi = {\n  status: number;\n  code: number;\n  data: any;\n  message?: string;\n};\n","import React, { useEffect, useState } from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport Modal from 'react-native-modal';\nimport { Button, Text } from 'tradewize-component';\nimport colors from '../../../theme/colors';\nimport { SvgXml } from 'react-native-svg';\nimport {\n  IconStateSuccess,\n  IconStateWarning,\n  IconStateError,\n} from '../../../assets/svg';\nimport { useAppSelector, useAppDispatch } from '../../../redux/store/types';\nimport { AppAlertModalProps } from '../../../redux/features/app/types';\nimport { hideAlert } from '../../../redux/features/app/actions';\nimport { useAppTranslation } from '../../../hooks/useAppTranslation';\n\nconst AppAlertModal = () => {\n  const dispatch = useAppDispatch();\n  const {\n    visible,\n    type,\n    title,\n    message = '',\n    buttonText,\n    onClose,\n    showIcon = true,\n    customIcon,\n    buttonVariant = 'primary',\n    buttonStyle,\n    messageStyle,\n    titleStyle,\n    isShowIcon = true,\n    isBackdropPress = true,\n    isHideModalOnClose = true,\n    contentContainerStyle,\n  }: AppAlertModalProps = useAppSelector(state => state.app.alertModal);\n\n  const { t } = useAppTranslation();\n  const [visibleModal, setVisibleModal] = useState(false);\n\n  const handleClose = () => {\n    // Gọi onClose callback nếu có\n    if (onClose) {\n      onClose();\n    }\n    // Luôn dispatch action để hide alert\n    if (isHideModalOnClose) {\n      dispatch(hideAlert());\n    }\n  };\n\n  const getIcon = () => {\n    if (!showIcon) return null;\n    if (customIcon) return <SvgXml xml={customIcon} width={65} height={65} />;\n    switch (type) {\n      case 'warning':\n        return <SvgXml xml={IconStateWarning()} width={65} height={65} />;\n      case 'error':\n        return <SvgXml xml={IconStateError()} width={65} height={65} />;\n      default:\n        return <SvgXml xml={IconStateSuccess()} width={65} height={65} />;\n    }\n  };\n\n  const getTitleColor = () => {\n    switch (type) {\n      case 'warning':\n        return colors.warning;\n      case 'error':\n        return colors.error;\n      default:\n        return colors.success;\n    }\n  };\n\n  const getDefaultTitle = () => {\n    switch (type) {\n      case 'warning':\n        return t('WARNING');\n      case 'error':\n        return t('ERROR');\n      default:\n        return t('SUCCESS');\n    }\n  };\n\n  useEffect(() => {\n    if (visible) {\n      // Delay showing modal for animation\n      const timer = setTimeout(() => {\n        setVisibleModal(true);\n      }, 350);\n      return () => clearTimeout(timer);\n    } else {\n      // Hide immediately when visible becomes false\n      setVisibleModal(false);\n    }\n  }, [visible]);\n\n  return (\n    <Modal\n      isVisible={visibleModal}\n      animationIn=\"zoomIn\"\n      animationOut=\"zoomOut\"\n      backdropOpacity={0.2}\n      useNativeDriver\n      onBackdropPress={isBackdropPress ? handleClose : undefined}\n      animationOutTiming={400}\n    >\n      <View style={[styles.container, contentContainerStyle]}>\n        {isShowIcon && getIcon()}\n        <Text style={[styles.title, { color: getTitleColor() }, titleStyle]}>\n          {title || getDefaultTitle()}\n        </Text>\n        {message ? (\n          <Text style={[styles.message, messageStyle]}>{message}</Text>\n        ) : null}\n\n        <Button\n          variant={buttonVariant}\n          style={[styles.button, buttonStyle]}\n          onPress={handleClose}\n        >\n          <Text style={styles.buttonText}>{buttonText || t('CLOSE')}</Text>\n        </Button>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: colors.white,\n    borderRadius: 12,\n    padding: 24,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 22,\n    fontWeight: '700',\n    marginBottom: 8,\n    textAlign: 'center',\n    marginTop: 6,\n    lineHeight: 28,\n  },\n  message: {\n    fontSize: 14,\n    color: colors.black,\n    textAlign: 'center',\n    lineHeight: 20,\n    marginBottom: 20,\n  },\n  button: {\n    backgroundColor: colors.mainColorPrimary,\n    width: '100%',\n  },\n  buttonText: {\n    color: colors.white,\n    fontWeight: '600',\n    fontSize: 16,\n    lineHeight: 24,\n  },\n});\n\nexport default AppAlertModal;\n"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","styles","StyleSheet","create","container","backgroundColor","colors","white","borderRadius","padding","alignItems","title","fontSize","fontWeight","marginBottom","textAlign","marginTop","lineHeight","message","color","black","button","mainColorPrimary","width","buttonText","AppAlertModal","dispatch","state","app","alertModal","visible","type","onClose","showIcon","customIcon","buttonVariant","buttonStyle","messageStyle","titleStyle","isShowIcon","isBackdropPress","isHideModalOnClose","contentContainerStyle","useAppTranslation","t","useState","visibleModal","setVisibleModal","handleClose","hideAlert","useEffect","timer","setTimeout","clearTimeout","isVisible","animationIn","animationOut","backdropOpacity","useNativeDriver","onBackdropPress","undefined","animationOutTiming","View","style","getIcon","SvgXml","xml","height","IconStateWarning","IconStateError","IconStateSuccess","Text","getTitleColor","warning","error","success","getDefaultTitle","Button","variant","onPress"],"mappings":"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"}