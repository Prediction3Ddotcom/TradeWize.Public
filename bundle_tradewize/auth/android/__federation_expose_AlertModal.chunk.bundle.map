{"version":3,"file":"__federation_expose_AlertModal.chunk.bundle","sources":["/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Auth/src/redux/store/types.ts","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Auth/src/components/Modal/AlertModal/index.tsx"],"sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport { store } from '.';\nimport rootReducer from './rootReducer';\n\nexport type RootState = ReturnType<typeof rootReducer>;\nexport type AppDispatch = typeof store.dispatch;\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nexport type ResponseApi = {\n  status: number;\n  code: number;\n  data: any;\n  message?: string;\n};\n","import React, { useEffect, useState } from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport Modal from 'react-native-modal';\nimport { Button, SCREEN_HEIGHT, Text } from 'tradewize-component';\nimport colors from '../../../theme/colors';\nimport { SvgXml } from 'react-native-svg';\nimport {\n  IconStateSuccess,\n  IconStateWarning,\n  IconStateError,\n} from '../../../assets/svg';\nimport { useAppSelector, useAppDispatch } from '../../../redux/store/types';\nimport { AppAlertModalProps } from '../../../redux/features/app/types';\nimport { hideAlert } from '../../../redux/features/app/actions';\nimport { useAppTranslation } from '../../../hooks/useAppTranslation';\n\nconst AppAlertModal = () => {\n  const dispatch = useAppDispatch();\n  const {\n    visible,\n    type,\n    title,\n    message = '',\n    buttonText,\n    onClose,\n    showIcon = true,\n    customIcon,\n    buttonVariant = 'primary',\n    buttonSize = 'medium',\n    buttonStyle,\n    messageStyle,\n    titleStyle,\n    isShowIcon = true,\n    isBackdropPress = true,\n    isHideModalOnClose = true,\n    contentContainerStyle,\n    arrayMessage = [],\n    customContent,\n    customContentStyle,\n  }: AppAlertModalProps = useAppSelector(state => state.app.alertModal);\n\n  const { t } = useAppTranslation();\n  const [visibleModal, setVisibleModal] = useState(false);\n\n  const handleClose = () => {\n    // Gọi onClose callback nếu có\n    if (onClose) {\n      onClose();\n    }\n    // Luôn dispatch action để hide alert\n    if (isHideModalOnClose) {\n      dispatch(hideAlert());\n    }\n  };\n\n  const getIcon = () => {\n    if (!showIcon) return null;\n    if (customIcon) return <SvgXml xml={customIcon} width={65} height={65} />;\n    switch (type) {\n      case 'warning':\n        return <SvgXml xml={IconStateWarning()} width={65} height={65} />;\n      case 'error':\n        return <SvgXml xml={IconStateError()} width={65} height={65} />;\n      default:\n        return <SvgXml xml={IconStateSuccess()} width={65} height={65} />;\n    }\n  };\n\n  const getTitleColor = () => {\n    switch (type) {\n      case 'warning':\n        return colors.warning;\n      case 'error':\n        return colors.error;\n      default:\n        return colors.success;\n    }\n  };\n\n  const getDefaultTitle = () => {\n    switch (type) {\n      case 'warning':\n        return t('WARNING');\n      case 'error':\n        return t('ERROR');\n      default:\n        return t('SUCCESS');\n    }\n  };\n\n  const getButtonColor = () => {\n    switch (type) {\n      case 'warning':\n        return colors.orangeHome;\n      case 'error':\n        return colors.error;\n      default:\n        return colors.success;\n    }\n  };\n\n  useEffect(() => {\n    if (visible) {\n      // Delay showing modal for animation\n      const timer = setTimeout(() => {\n        setVisibleModal(true);\n      }, 350);\n      return () => clearTimeout(timer);\n    } else {\n      // Hide immediately when visible becomes false\n      setVisibleModal(false);\n    }\n  }, [visible]);\n\n  return (\n    <Modal\n      isVisible={visibleModal}\n      animationIn=\"zoomIn\"\n      animationOut=\"zoomOut\"\n      backdropOpacity={0.5}\n      useNativeDriver\n      onBackdropPress={isBackdropPress ? handleClose : undefined}\n      animationOutTiming={400}\n    >\n      <View style={[styles.container, contentContainerStyle]}>\n        {isShowIcon && getIcon()}\n        <Text style={[styles.title, { color: getTitleColor() }, titleStyle]}>\n          {title || getDefaultTitle()}\n        </Text>\n        {message ? (\n          <Text style={[styles.message, messageStyle]}>{message}</Text>\n        ) : null}\n\n        {arrayMessage &&\n          arrayMessage.length > 0 &&\n          arrayMessage.map((item, index) => (\n            <Text\n              key={index}\n              style={[\n                styles.message,\n                index !== arrayMessage.length - 1 && styles.arrayMessage,\n                messageStyle,\n              ]}\n            >\n              {item}\n            </Text>\n          ))}\n\n        {customContent && (\n          <View style={[styles.customContent, customContentStyle]}>\n            {typeof customContent === 'function'\n              ? customContent()\n              : customContent}\n          </View>\n        )}\n\n        <Button\n          variant={buttonVariant}\n          size={buttonSize}\n          style={[\n            styles.button,\n            { backgroundColor: getButtonColor() },\n            buttonStyle,\n          ]}\n          onPress={handleClose}\n        >\n          <Text style={styles.buttonText}>{buttonText || t('CLOSE')}</Text>\n        </Button>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: colors.white,\n    borderRadius: 12,\n    padding: 24,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 22,\n    fontWeight: '700',\n    marginBottom: 8,\n    textAlign: 'center',\n    marginTop: 6,\n    lineHeight: 28,\n  },\n  message: {\n    fontSize: 14,\n    color: colors.black,\n    textAlign: 'center',\n    lineHeight: 20,\n    marginBottom: 20,\n  },\n  arrayMessage: {\n    marginBottom: 0,\n  },\n  button: {\n    backgroundColor: colors.mainColorPrimary,\n    width: '100%',\n  },\n  buttonText: {\n    color: colors.white,\n    fontWeight: '600',\n    fontSize: 16,\n    lineHeight: 24,\n  },\n  customContent: {\n    width: '100%',\n    maxHeight: SCREEN_HEIGHT,\n  },\n});\n\nexport default AppAlertModal;\n"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","styles","StyleSheet","create","container","backgroundColor","colors","white","borderRadius","padding","alignItems","title","fontSize","fontWeight","marginBottom","textAlign","marginTop","lineHeight","message","color","black","arrayMessage","button","mainColorPrimary","width","buttonText","customContent","maxHeight","SCREEN_HEIGHT","AppAlertModal","dispatch","state","app","alertModal","visible","type","onClose","showIcon","customIcon","buttonVariant","buttonSize","buttonStyle","messageStyle","titleStyle","isShowIcon","isBackdropPress","isHideModalOnClose","contentContainerStyle","customContentStyle","useAppTranslation","t","visibleModal","setVisibleModal","useState","handleClose","hideAlert","useEffect","timer","setTimeout","clearTimeout","isVisible","animationIn","animationOut","backdropOpacity","useNativeDriver","onBackdropPress","undefined","animationOutTiming","View","style","getIcon","SvgXml","xml","height","IconStateWarning","IconStateError","IconStateSuccess","Text","getTitleColor","warning","error","success","getDefaultTitle","length","map","item","index","Button","variant","size","getButtonColor","orangeHome","onPress"],"mappings":"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"}