{"version":3,"file":"__federation_expose_SelectBottomModal.chunk.bundle","sources":["/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Auth/src/components/Modal/SelectBottomModal/styles.ts","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Auth/src/types/global.ts","/Users/hmdev02/Desktop/ReactNative/Tradewize.Repack/TradeWize.Mobile/Auth/src/components/Modal/SelectBottomModal/index.tsx"],"sourcesContent":["import { StyleSheet } from 'react-native';\nimport colors from '../../../theme/colors';\nimport { SCREEN_HEIGHT, SCREEN_WIDTH } from 'tradewize-component';\n\nexport const styles = StyleSheet.create({\n  modal: {\n    justifyContent: 'flex-end',\n    margin: 0,\n  },\n  modalContent: {\n    backgroundColor: colors.white,\n    borderTopLeftRadius: 16,\n    borderTopRightRadius: 16,\n    maxHeight: '70%',\n    minHeight: '40%',\n  },\n  modalCloseButton: {\n    paddingVertical: 8,\n    paddingHorizontal: 0,\n  },\n  txtCloseButton: {\n    fontSize: 14,\n    fontWeight: '400',\n    color: colors.mainColorPrimary,\n    lineHeight: 20,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: colors.line,\n    paddingHorizontal: 16,\n  },\n  modalTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: colors.black,\n    lineHeight: 24,\n  },\n  searchContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    paddingHorizontal: 16,\n  },\n  searchInput: {\n    flex: 1,\n    borderRadius: 8,\n    paddingHorizontal: 8,\n    fontSize: 16,\n    fontWeight: '400',\n    color: colors.black,\n    height: SCREEN_HEIGHT * 0.05,\n  },\n  clearSearchButton: {\n    paddingHorizontal: 4,\n    paddingVertical: 4,\n    minHeight: 0,\n    borderRadius: SCREEN_WIDTH,\n  },\n  emptyContainer: {\n    paddingHorizontal: 16,\n    paddingVertical: 16,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  emptyText: {\n    fontSize: 16,\n    fontWeight: '600',\n    lineHeight: 24,\n    color: colors.grayScale70,\n  },\n  itemContainer: {\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 0.5,\n    borderBottomColor: colors.line,\n    justifyContent: 'flex-start',\n  },\n  itemText: {\n    fontSize: 14,\n    fontWeight: '400',\n    color: colors.black,\n    lineHeight: 20,\n    flex: 1,\n  },\n  itemContainerLast: {\n    borderBottomWidth: 0,\n  },\n  checkContainer: {\n    width: 24,\n    height: 24,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: SCREEN_WIDTH,\n  },\n  selectedItemContainer: {\n    backgroundColor: colors.additionalSecondary,\n    borderRadius: 0,\n  },\n});\n","import { Platform } from 'react-native';\n\nexport const SCREENS_ENUM = {\n  LoginScreen: 'LoginScreen',\n  RegisterNavigator: 'RegisterNavigator',\n  AccountActivationStatusScreen: 'AccountActivationStatusScreen',\n  ForgotPasswordScreen: 'ForgotPasswordScreen',\n  VerifyOtpScreen: 'VerifyOtpScreen',\n  ChangePasswordScreen: 'ChangePasswordScreen',\n  HomeGuestScreen: 'HomeGuestScreen',\n  LegalAndPrivacyPolicyScreen: 'LegalAndPrivacyPolicyScreen',\n  RegisterScreen: 'RegisterScreen',\n  RegisterWelcomeScreen: 'RegisterWelcomeScreen',\n\n  // export home\n  WellComeScreen: 'WellComeScreen',\n  AuthNavigator: 'AuthNavigator',\n};\n\nexport const FORMAT_TIME_CLIENT = 'MM/DD/YYYY';\nexport const FORMAT_TIME_CLIENT_JOB_START = 'MMM D, YYYY';\nexport const NETWORK_ERROR = 'NETWORK_ERROR';\nexport const AUTO_CHECK_IN_DISTANCE = 100;\n\nexport const shadowGlobal = {\n  shadowOpacity: 0.4,\n  shadowRadius: Platform.OS === 'ios' ? 4 : 12,\n  shadowOffset: {\n    width: 0,\n    height: 0,\n  },\n};\n","import React, { useEffect, useState } from 'react';\nimport { View, TextInput, FlatList } from 'react-native';\nimport Modal from 'react-native-modal';\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-controller';\nimport { styles } from './styles';\nimport { Button, Text } from 'tradewize-component';\nimport { SvgXml } from 'react-native-svg';\nimport { IconCheck, IconClose, IconSearch } from '../../../assets/svg';\nimport colors from '../../../theme/colors';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '../../../redux/store/types';\nimport { hideSelectBottomModal } from '../../../redux/features/app/actions';\nimport { ShadowedView } from 'react-native-fast-shadow';\nimport { shadowGlobal } from '../../../types/global';\n\nexport interface DataFilter {\n  id: string;\n  label: string;\n  description?: string;\n}\n\nexport interface SelectBottomModalProps {\n  isVisible: boolean;\n  isSearch?: boolean;\n  title?: string;\n  searchPlaceholder?: string;\n  txtClose?: string;\n  dataFilter?: DataFilter[];\n  displayKey?: string[];\n  emptyText?: string;\n  initialSelectedItem?: DataFilter | null;\n  onChangeSearchQuery?: (text: string) => void;\n  onClose?: () => void;\n  handleSelectItem?: (item: DataFilter) => void;\n}\n\nconst EmptyComponent = ({ text }: { text: string }) => {\n  return (\n    <View style={styles.emptyContainer}>\n      <Text style={styles.emptyText}>{text}</Text>\n    </View>\n  );\n};\n\nconst ItemComponent = ({\n  item,\n  index,\n  itemLast,\n  selectedItem,\n  onPress,\n}: {\n  item: DataFilter;\n  index: number;\n  itemLast: number;\n  selectedItem: DataFilter | null;\n  onPress: (item: DataFilter) => void;\n}) => {\n  return (\n    <Button\n      onPress={() => {\n        onPress(item);\n      }}\n      variant=\"ghost\"\n      style={[\n        styles.itemContainer,\n        index === itemLast - 1 && styles.itemContainerLast,\n        selectedItem?.id === item.id && styles.selectedItemContainer,\n      ]}\n    >\n      <Text numberOfLines={1} style={styles.itemText}>\n        {item.label}\n      </Text>\n      {selectedItem?.id === item?.id && (\n        <View style={styles.checkContainer}>\n          <SvgXml\n            xml={IconCheck(colors.mainColorPrimary)}\n            width={16}\n            height={16}\n          />\n        </View>\n      )}\n    </Button>\n  );\n};\n\nconst SelectBottomModal = () => {\n  const insets = useSafeAreaInsets();\n  const dispatch = useDispatch();\n\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedItem, setSelectedItem] = useState<DataFilter | null>(null);\n\n  const selectBottomModal = useSelector(\n    (state: RootState) => state.app.selectBottomModal,\n  );\n  const {\n    isVisible,\n    isSearch,\n    title,\n    searchPlaceholder,\n    txtClose = 'close',\n    dataFilter = [],\n    displayKey = ['label', 'description'] as string[],\n    emptyText,\n    initialSelectedItem,\n    onChangeSearchQuery,\n    handleSelectItem,\n    onClose,\n  } = selectBottomModal;\n\n  // Lọc dữ liệu theo search query\n  const filteredData = dataFilter?.filter(item => {\n    const value = displayKey\n      .map(key => item[key as keyof DataFilter])\n      .join(' ');\n    return value.toLowerCase().includes(searchQuery.toLowerCase());\n  });\n\n  const handleClose = (refreshSelectedItem: boolean = false) => {\n    setSearchQuery('');\n    if (refreshSelectedItem) {\n      setSelectedItem(initialSelectedItem || null);\n    }\n    dispatch(hideSelectBottomModal());\n    onClose?.();\n  };\n\n  const handleChangeSearchQuery = (text: string) => {\n    setSearchQuery(text);\n    onChangeSearchQuery?.(text);\n  };\n\n  const onClearSearchQuery = () => {\n    setSearchQuery('');\n    onChangeSearchQuery?.('');\n  };\n\n  useEffect(() => {\n    if (initialSelectedItem) {\n      setSelectedItem(initialSelectedItem);\n    }\n  }, [initialSelectedItem]);\n\n  return (\n    <Modal\n      isVisible={isVisible}\n      style={styles.modal}\n      backdropOpacity={0.3}\n      backdropColor={colors.white}\n      animationIn=\"slideInUp\"\n      animationOut=\"slideOutDown\"\n    >\n      <ShadowedView\n        style={[\n          styles.modalContent,\n          { paddingBottom: insets.bottom },\n          shadowGlobal,\n        ]}\n      >\n        {/* Header với thanh kéo */}\n        <View style={styles.modalHeader}>\n          <Text style={styles.modalTitle}>{title}</Text>\n          <Button\n            style={styles.modalCloseButton}\n            variant=\"ghost\"\n            onPress={() => handleClose(true)}\n          >\n            <Text style={styles.txtCloseButton}>{txtClose}</Text>\n          </Button>\n        </View>\n\n        {/* Search Input */}\n        {isSearch && (\n          <View style={styles.searchContainer}>\n            <SvgXml\n              xml={IconSearch(colors.grayScale70)}\n              width={24}\n              height={24}\n            />\n            <TextInput\n              style={styles.searchInput}\n              placeholder={searchPlaceholder}\n              value={searchQuery}\n              onChangeText={handleChangeSearchQuery}\n              autoCapitalize=\"none\"\n            />\n\n            {searchQuery && (\n              <Button\n                style={styles.clearSearchButton}\n                variant=\"ghost\"\n                onPress={onClearSearchQuery}\n              >\n                <SvgXml\n                  xml={IconClose(colors.grayScale70)}\n                  width={18}\n                  height={18}\n                />\n              </Button>\n            )}\n          </View>\n        )}\n\n        {/* Danh sách kết quả */}\n        <FlatList\n          data={filteredData}\n          showsVerticalScrollIndicator={false}\n          renderItem={({ item, index }) => (\n            <ItemComponent\n              key={item.id}\n              item={item}\n              index={index}\n              selectedItem={selectedItem}\n              itemLast={dataFilter?.length || 0}\n              onPress={(i: DataFilter) => {\n                setSelectedItem(i);\n                handleSelectItem?.(i);\n                handleClose?.();\n              }}\n            />\n          )}\n          keyExtractor={(item, index) => item.id.toString() + index.toString()}\n          ListEmptyComponent={<EmptyComponent text={emptyText || ''} />}\n          renderScrollComponent={props => (\n            <KeyboardAwareScrollView\n              {...props}\n              keyboardShouldPersistTaps=\"handled\"\n            />\n          )}\n        />\n      </ShadowedView>\n    </Modal>\n  );\n};\n\nexport default SelectBottomModal;\n"],"names":["StyleSheet","create","modal","justifyContent","margin","modalContent","backgroundColor","colors","white","borderTopLeftRadius","borderTopRightRadius","maxHeight","minHeight","modalCloseButton","paddingVertical","paddingHorizontal","txtCloseButton","fontSize","fontWeight","color","mainColorPrimary","lineHeight","modalHeader","flexDirection","alignItems","borderBottomWidth","borderBottomColor","line","modalTitle","black","searchContainer","gap","searchInput","flex","borderRadius","height","SCREEN_HEIGHT","clearSearchButton","SCREEN_WIDTH","emptyContainer","emptyText","grayScale70","itemContainer","itemText","itemContainerLast","checkContainer","width","selectedItemContainer","additionalSecondary","SCREENS_ENUM","LoginScreen","RegisterNavigator","AccountActivationStatusScreen","ForgotPasswordScreen","VerifyOtpScreen","ChangePasswordScreen","HomeGuestScreen","LegalAndPrivacyPolicyScreen","RegisterScreen","RegisterWelcomeScreen","WellComeScreen","AuthNavigator","FORMAT_TIME_CLIENT","FORMAT_TIME_CLIENT_JOB_START","NETWORK_ERROR","AUTO_CHECK_IN_DISTANCE","shadowGlobal","shadowOpacity","shadowRadius","Platform","OS","shadowOffset","EmptyComponent","text","View","style","styles","Text","ItemComponent","item","index","itemLast","selectedItem","onPress","Button","variant","id","numberOfLines","label","SvgXml","xml","IconCheck","SelectBottomModal","insets","useSafeAreaInsets","dispatch","useDispatch","searchQuery","setSearchQuery","useState","setSelectedItem","selectBottomModal","useSelector","state","app","isVisible","isSearch","title","searchPlaceholder","txtClose","dataFilter","displayKey","initialSelectedItem","onChangeSearchQuery","handleSelectItem","onClose","filteredData","filter","map","key","join","toLowerCase","includes","handleClose","refreshSelectedItem","hideSelectBottomModal","useEffect","backdropOpacity","backdropColor","animationIn","animationOut","ShadowedView","paddingBottom","bottom","IconSearch","TextInput","placeholder","value","onChangeText","handleChangeSearchQuery","autoCapitalize","onClearSearchQuery","IconClose","FlatList","data","showsVerticalScrollIndicator","renderItem","length","i","keyExtractor","toString","ListEmptyComponent","renderScrollComponent","props","KeyboardAwareScrollView","keyboardShouldPersistTaps"],"mappings":"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"}